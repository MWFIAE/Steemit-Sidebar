// ==UserScript==
// @name         Steemit-Sidebar
// @namespace    http://tampermonkey.net/
// @copyright 2018, mwfiae (https://steemit.com/@mwfiae)
// @version      0.6.0
// @description  try to take over the world!
// @author       MWFIAE
// @match        http*://steemit.com/*
// @match        http*://steemw.ga/*
// @license MIT
// @grant    GM_getValue
// @grant    GM_setValue
// @grant    GM_getResourceText
// @grant unsafeWindow
// @require http://code.jquery.com/jquery-1.12.4.min.js
// @require https://cdn.steemjs.com/lib/latest/steem.min.js
// @require https://momentjs.com/downloads/moment-with-locales.min.js
// @require https://github.com/inuyaksa/jquery.nicescroll/raw/master/jquery.nicescroll.min.js
// @require https://code.jquery.com/ui/1.12.1/jquery-ui.min.js
// @resource JQUI_CSS https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css
// @updateURL https://openuserjs.org/meta/mwfiae/Steemit-Sidebar.meta.js
// @noframes
// ==/UserScript==
/* jshint -W097 */
'use strict';
// At this point I just want to say 'thank you!' to @therealwolf
// without his help and example coding I wouldn't have 'finished' the project this fast

// Handle multiple languages (only english for now)
const I18N = {
    "en":{
        "username": "Username",
        "vp": "Voting Power",
        "full": "Full",
        "bandwidth": "Bandwidth",
        "sp": "SteemPower",
        "settings_title": "Steemit Sidebar Settings",
        "settings_tab1": "Appearance",
        "settings_tab2": "Links",
        "settings_barcolor_low": "Bar Color Low",
        "settings_barcolor_high": "Bar Color High",
        "settings_warn_refresh": "The following settings require a site-refresh (F5).",
        "settings_sidebar_side": "Sidebar-Side",
        "settings_sidebar_side_left": "left",
        "settings_sidebar_side_right": "right",
        "settings_language": "Language",
        "settings_language_en": "English",
        "settings_restore_links": "Restore Links",
        "settings_links_icon": "Icon",
        "settings_links_url": "Url",
        "settings_links_text": "Text",
    },

}

// This is the html template for the main area of the sidebar, without the user templates(TEMPLATE_WITH_USER) rendered
const TEMPLATE_WITHOUT_USER = `
<style>
.ui-tabs{ height:100%; }
.ui-tabs-vertical .ui-tabs-nav { padding: .2em .1em .2em .2em; float: left; width: 20%; }
.ui-tabs-vertical .ui-tabs-nav li { clear: left; width: 100%; border-bottom-width: 1px !important; border-right-width: 0 !important; margin: 0 -1px .2em 0; }
.ui-tabs-vertical .ui-tabs-nav li a { display:inline-block;width: 100% }
.ui-tabs-vertical .ui-tabs-nav li.ui-tabs-active { padding-bottom: 0; padding-right: .1em; border-right-width: 1px; }
.ui-tabs-vertical .ui-tabs-panel { padding: 1em; float: left; width: 80%; }
.ui-button .ui-icon.ui-icon-closethick {
background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAVlJREFUOI2Fkj9rwkAYh3+XJleCgYwnUcT+gX4ClyztUCl063dRkiGDDoeDfgMd7isILYRO7ZRvUCoNKMFAbusQcO1iSoiX+NsO3ud533vv0Gq1bM55KISI2+32Fc6k2+3eCSFiznlIKTUJ5zwcDAZPACClTMbj8UOWZds6eDabvTPGegAQRdGb1ul0bosCxlhvPp9/qCapwgDgOM615nneo5QyaZKo4DRN4yAInskR6i8Wi89yQXEdXdepCvZ9fyil3JFSZ6WkmEoFA8C/oE5SThU+ETRJVDAAaFWBYRiXqu66rlNCyEnDi/JBte0ilmXZruu+RFG0zvP890RQ91SHwyG3LMuuk5Am2Pf9IQDUPXGWZVvSBBcLa/onRAgRO45zUwcXUUmSJNloaZr+nIOPHXej0ei+/O33+/0GlFJzOp2+LpfLL8ZYvwpWwxjrr1ar78lksqaUmn9KJe5VUzwlIQAAAABJRU5ErkJggg==') !important;
}

#mw-script-container{
position: fixed;
float: left;
padding-top: 2.5rem;
padding-left: 2em;
padding-right: 2em;
height:100vh;
overflow-y: auto;
z-index: 5;
width: 200px;
display: grid;
grid-template-rows: 1fr 80px;
grid-template-columns: 1fr;
}
.mw-right#mw-script-container{
right: 0;
}
#mw-main{
grid-row-start:1;
grid-row-end:1;
}
#mw-footer{
grid-row-start:2;
grid-row-end:2;
}
#mw-collapse-button{
float: left;
margin-left: 110px;
z-index: 100;
position: fixed;
cursor: pointer;
font-weight: bolder;
margin-top: -16px;
}
#mw-settings{
float: left;
z-index: 100;
cursor: pointer;
position: relative;
top: -15px;
left: -28px;
}
.theme-dark #mw-script-container, .theme-dark #mw-button{
background-color: #1C252B;
}
.theme-light #mw-script-container, .theme-light #mw-button{
background-color: #fcfcfc;
}
#username{display: inline;}
.mw-favicon{width:16px; height: 16px}
.mw-ul{list-style-type:none;}
.mw-button{background-color:transparent; border-width: 1px;}
.mw-nowrap{}
/* Tooltip container */
.mw-tooltip {
position: relative;
display: inline-block;
}

/* Tooltip text */
.mw-tooltip .mw-tooltiptext {
visibility: hidden;
width: 120px;
background-color: #555;
color: #fff;
text-align: center;
padding: 5px 0;
border-radius: 6px;

/* Position the tooltip text */
position: absolute;
z-index: 1;
bottom: 125%;
left: 50%;
margin-left: -60px;

/* Fade in tooltip */
opacity: 0;
transition: opacity 0.3s;
}


/* Show the tooltip text when you mouse over the tooltip container */
.mw-tooltip:hover .mw-tooltiptext {
visibility: visible;
opacity: 1;
width: 100%;
}
</style>
<div id="mw-script-container" class="mw-{{settings.side}}">
<div id="mw-main">
<img id="mw-settings" width=32px height=32px src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAkAAAAHgCAYAAABNbtJFAAAgAElEQVR4Xuy9eXxc1ZXv+1u7qiR5kEdVyRgzxsxz4pCEwVbJBgIJDWEo2SYhA52kk+4MnbyX+7rTfa9fv9u3b/ft9O2kk3TIcJMmgKUyEGiICWCrZMaEmARMmCFMwlhV8jxbdfZ6n1O2jGw8SKpTwzn7d/4B22evtX7ftVX10xn2FvAgARIgARIgARIgAccIiGN6KZcESIAESIAESIAEQAPESUACJEACJEACJOAcARog51pOwSRAAiRAAiRAAjRAnAMkQAIkQAIkQALOEaABcq7lFEwCJEACJEACJEADxDlAAiRAAiRAAiTgHAEaIOdaTsEkQAIkQAIkQAI0QJwDJEACJEACJEACzhGgAXKu5RRMAiRAAiRAAiRAA8Q5QAIkQAIkQAIk4BwBGiDnWk7BJEACJEACJEACNECcAyRAAiRAAiRAAs4RoAFyruUUTAIkQAIkQAIkQAPEOUACJEACJEACJOAcARog51pOwSRAAiRAAiRAAjRAnAMkQAIkQAIkQALOEaABcq7lFEwCJEACJEACJEADxDlAAiRAAiRAAiTgHAEaIOdaTsEkQAIkQAIkQAI0QJwDJEACJEACJEACzhGgAXKu5RRMAiRAAiRAAiRAA8Q5QAIkQAIkQAIk4BwBGiDnWk7BJEACJEACJEACNECcAyRAAiRAAiRAAs4RoAFyruUUTAIkQAIkQAIkQAPEOUACJEACJEACJOAcARog51pOwSRAAiRAAiRAAjRAnAMkQAIkQAIkQALOEaABcq7lFEwCJEACJEACJEADxDlAAiRAAiRAAiTgHAEaIOdaTsEkQAIkQAIkQAI0QJwDJEACJEACJEACzhGgAXKu5RRMAiRAAiRAAiRAA8Q5QAIkQAIkQAIk4BwBGiDnWk7BJEACJEACJEACNECcAyRAAiRAAiRAAs4RoAFyruUUTAIkQAIkQAIkQAPEOUACJEACJEACJOAcARog51pOwSRAAiRAAiRAAjRAnAMkQAIkQAIkQALOEaABcq7lFEwCJEACJEACJEADxDlAAiRAAiRAAiTgHAEaIOdaTsEkQAIkQAIkQAI0QJwDJEACJEACJEACzhGgAXKu5RRMAiRAAiRAAiRAA8Q5QAIkQAIkQAIk4BwBGiDnWk7BJEACJEACJEACNECcAyRAAiRAAiRAAs4RoAFyruUUTAIkQAIkQAIkQAPEOUACJDBqAslsbjwGzBGF6+a8NOogIxiYzOZmiuJ0NHmP5a+Y1zeCoTyVBEiABPYhQAPECUECJDAqAlMWrzgqbuwN/mAR87u+zJz/HFWgYQ5qza44TtV+EqJjobLNbkl8q/+GCzYPczhPIwESIAEaIM4BEiCBMgjcuDLROnnrDLX6KYieBsgbgG4qxvHjdVene8uIfMihqWzPRVA9XxQnq5EpYrXbxuQRo9Lbt35cLz4/a6BSuRmXBEggegR4BSh6PaUiEgiUwITsr6Y0FeMzNGZmiGIGjJmmKr1itAnWnqYqm8SYV/OZOT8MNPF+wUq32xSfFCApYt4UDDxmrcxQkRkimAFgjSp6xbO9O+LF3k2ZD6+rZD2MTQIkEG4CNEDh7h+rJ4FgCSxSM/3Uh2cUxc5QixkiOgPWQmPmTVH0Fj3pXTd/du+xP+tp3DFue7OH5veJ6rEi+qLaYhwizTCxcaJIKBADNKb+aIu4yuCfTcyU/h5xv3gBihbiCawHMUWBeBbW8/8LWE/9f7M6oDDbNabbpYgWI3heodst7HabiG1r6seOgfFmsiS0xa/bCGYo1KigV1R7Y0XtfXth+5sQscECYzQSIIGwEqABCmvnWDcJHIBAMpu74EBgCkn8Gul0cf9/m5x9YGKjic2wHnZfSdl9hWeNHShuQqNsinm6HSJiVSYDmGgsmiEYP2he6rEJqrJWYroOXskgNYiJNRmRZoVM8U2cqtdrYujdab3e9ZmLNr5LQ/aZhiTy5x6QYyb9cD1qZk0kQAIjJ0ADNHJmHEECdUugNbvim6o2sX+B+RT+u2+Aptycm5GIY4Y1mCFWT1WRycbINs/qrpjVAZuIWfFsU90KLKcwFQu1ao0Y/wqVCJpEsd4avGAsegeK6F338XQvss80pDT/1/unUiM7C9e2/UM5JXAsCZBA/RCgAaqfXrASEhg1gZbFuVkxwQ4Yc8WgAVJoAyATRGSChX3SwMz0bwGpFSsxNVDZCuttH3XSKAw0MkatHQPEPAMvpjAxq7FXjBTPUWCj/3C3QHb5Un0DZFTu8Tzb2L8gvTIK8qmBBFwmQAPkcvepPRIEWrt6Llfo+2DMeFF9j4XuBGQ6VH3zYxUqsHjYCDYo4EVCdIVE+AZIjJ2sHs4TEYVoTC02wWC1AI0Q8wqs3SIGK/uuTd9ToTIYlgRIoAoEaICqAJkpSKBSBKbfePfY4qTx3xAjCWvt2UbM8QrdCIinqntfCxejD8LyAeDh9ME3QYC9cPBcEUnsfpgbE6D6qhH5vSqKY7fhf7726fSO4cTkOSRAAvVHgAao/nrCikhgRARSncsvVpg0DM4wkFarunX/ADRAw0e6vwHaO1JkLFTXQLDKKHr6OtLLhh+VZ5IACdQbARqgeusI6yGBYRCYcvPSCYn4mMv8U7ebnfc3oekrApmo1ptywOExvMYrQMMA6z/rU7oNhqMPdHbpoWnVvqIMfL9BEyX+u2Rg6QHfJhteOp5FAiRQIwI0QDUCz7QkUA6BVGf39RA5fncMOw4w77rqU058jj00AbWSELPnFqOaP+bnz7mJzEiABMJFgAYoXP1itSRQItCaXfEVq/YcVTQakUmA/oZoqkdAxMzyrLdBRIpG8Pu+TPrb1cvOTCRAAkEQoAEKgiJjkEAVCSSzuQ5Ym1KRKwUyVURWK3SrKJ6pYhnOplKR0wQYp5CUAhsEcieghUJmTpezUCicBEJIgAYohE1jyW4TSHXlFvkEFDhWICdp6bX30pYSPW6TqY56BdpKmUQMVP8owGv+H/Md6VJfeJAACYSDAA1QOPrEKklgL4GhBgiQMwDdTANUvQmy1wBBxgL6LA1Q9dgzEwkESYAGKEiajEUCVSAwxAC1AHIuoNtogKoAfk+KdwwQxgJ4XIB+XgGqHn9mIoGgCNAABUWScUigSgQGDZCfbsiXMW+BVYn/wZjzFliVGsA0JBAQARqggEAyDAlUiwANULVIHzgPDVBt+TM7CQRFgAYoKJKMQwJVIjC1c8Upg6mM4M8H/19gS7dieFSWgBq0DGawgu8O/v/aa9LPVzYzo5MACQRJgAYoSJqMRQJVJjD0alCVUzMd3/ziHCCBUBOgAQp1+1i86wRogGo7A/jcT235MzsJlEOABqgcehxLAjUmQANU2wbQANWWP7OTQDkEaIDKocexJFBjAjRAtW0ADVBt+TM7CZRDgAaoHHocSwI1JkADVNsG0ADVlj+zk0A5BGiAyqHHsSRQYwI0QLVtAA1QbfkzOwmUQ4AGqBx6HEsCNSZAA1TbBtAA1ZY/s5NAOQRogMqhx7EkUGMCNEC1bQANUG35MzsJlEOABqgcehxLAjUmQANU2wbQANWWP7OTQDkEaIDKocexJFBjAjRAtW0ADVBt+TM7CZRDgAaoHHocSwI1JkADVNsG0ADVlj+zk0A5BGiAyqHHsSRQYwI0QLVtAA1QbfkzOwmUQ4AGqBx6HEsCNSZAA1TbBtAA1ZY/s5NAOQRogMqhx7EkUGMCNEC1bQANUG35MzsJlEOABqgcehxLAjUmQANU2wbQANWWP7OTQDkEaIDKocexJFBjAjRAtW0ADVBt+TM7CZRDgAaoHHocSwI1JkADVNsG0ADVlj+zk0A5BGiAyqHHsSRQYwI0QLVtAA1QbfkzOwmUQ4AGqBx6HEsCNSZAA1TbBtAA1ZY/s5NAOQRogMqhx7EkUGMCNEC1bQANUG35MzsJlEOABqgcehxLAjUmQANU2wbQANWWP7OTQDkEaIDKocexJFBjAjRAtW0ADVBt+TM7CZRDgAaoHHocSwI1JkADVNsG0ADVlj+zk0A5BGiAyqHHsSRQYwI0QLVtAA1QbfkzOwmUQ4AGqBx6HEsCNSZAA1TbBtAA1ZY/s5NAOQRogMqhx7EkUGMCNEC1bQANUG35MzsJlEOABqgcehxLAjUmQANU2wbQANWWP7OTQDkEaIDKocexJFBjAjRAtW0ADVBt+TM7CZRDgAaoHHocSwI1JkADVNsG0ADVlj+zk0A5BGiAyqHHsSRQYwI0QLVtAA1QbfkzOwmUQ4AGqBx6HEsCNSDQ2tXz2SFpLx/8f4X+rgblOJdSIO8dIvruwf/v62j7kXMwKJgEQkyABijEzWPpbhIYetVHgbZBCgL0uEmkuqoPxpxXg6rbB2YjgXIJ0ACVS5DjSaDKBPYaIJGxqnouDVB1G7CPARJ5HKrb/ApogKrbB2YjgXIJ0ACVS5DjSaCKBKbcvHRCrGHMv0BxNCBTAd0OoOiXwCtA1WnEEAMUB3SMQNaq4A1v15ivrfv4BzdVpwpmIQESKJcADVC5BDmeBCpMYOZ3ljZunD7uVCl674dglgLvE6CoEN/87D1ogCrciD3hh14B2m08dYyKxATyBKx9QuOx305cvfXZl7982c7qVMQsJEACoyFAAzQaahxDAlUgMC277FQPsVNFMdeKqLEWiMXyau3e535ogKrQiP1S7G+ABv+5ZECNJK1nxcRiop52x4x5Zk1m9rPVr5IZSYAEDkeABuhwhPjvJFBFAq23P3Q8it5pMHqWtWgUI+PE020qu29zlQ6R5gOWpLq5iqW6m2oY/EURVyNjoHariuw0KqtUvWfz8+e+4i44KieB+iJAA1Rf/YhkNTOXLm1ct3Fcat2COW/6ApO33H+Cicc/Con1JZD4RW/mvH1u5UQSwn6iWpc8OFe94kleXLph7eaYxWkSM6fCi3kQG/cEk4yqusAi6hqtf38M3npgd29V9RnP4BkY0xwrSruIvtjXkV4WdQ7765uRfXTMAHZ8DGpabUzuKVwz5yX/nCmLVxw1ZeLW/MuX8Raia3Oi2nppgKpN3LF8U7PLj4yp2bNujT6Wf+7BB1Kntv0NVI0BTreCzYA+PRSLBZ7oz7SviCqq1OLl58GYi1XlGBhNCmSFiH3RejpFxBwTVd3UBaiHV43oeo2ZkxQ6B1YKIvo6rL0/v2Duo1Fl1JLtnmNg3refvjOMarMF/gBA85m2/y+VzV0EyIf88zyxP1qbmftWVJlQV+0J0ADVvgeRqqBl8f3ThwoSk/iYQP2Hd7dBJW8nNt9oNm7+HESmC/BeVd2hkIcEumtwnBXNRdoAZXsugur5EDkeKlvVYqXE9EjfFEZqMlDMgQmIWoW8Ier/XJhmqP4RIo/kM20PRBVZyQCppAf1KaRBoBeKSJMCv4PqatuU+JHZMfA5iKagGKuQ36od+MVQJv0LLl4dVUbUVX0CNEDVZx7pjKmu3JUAzh7yQXeKQM+FMU+JZ9+EyCqFnCTwTlExcaiOAzShIs+K4nV/XNQNELLZWMq23KCCuTBmq1h9I9KTguIOSECNHA2rY4xieZ8p/BSZjBdVVEMNkALHCvQUQAb8XwDE2KJaPC9inofqmWowA4qzFfK4QJ/by0TkqXymbR9DFFVe1FUdAjRA1eHsTJZ9DJBIs0Lfp0CTEbNOPTwlYoe8GmyOVdhjRSRRAqT2GUBWR9kATc4+MDGhcf834bPFSEKtDjgzOSj0XQTEaEKtDFjFSoxJrOi/4oJIPsj+jgHS6RBzWunHXXVAYF4D7Gt7f2FS0yhGz1LVyQB2Sml7F9m9thINEH+CAiZAAxQwUNfDDRogNTJZFLMAjalihxjzHKzt25fPbgO079/pVojcVMiku6LEMpnNjVeLNiM+Ex4kcGACKvh1YsyWB1dffnlpdemoHMlsrgMq1wP+Fd93jv0N0J5/aVXgFBE0AeKp2icEso4GKCqzoX500ADVTy8iUYlvgBRyLkTPE8VEBTaWfnkbtgEqrSz3KoBfDWzFfRs+nd4QZjD+my677PYLxcTfr2p3X+niQQKHIKDQXTGYx8Y3b3s07G9CTfppblJiHC4B8GEojttf9qEMUOlzA5iogg2w+LUYeZy3wPijEyQBGqAgaTIWktncNQL5rCpagHfWpTmQAVJF48GQiaB0q0yAh/s2NK/A52eF7lZRqqv7fIGZo9AGTg0SGCkBhdkek2JuTWbu4yMdW/Pzb1yZaJ20eY4CF/i1qJGD/gyIfecFiKFXgIZcJ2oWQb8Kfly4tm1JzbWxgMgQoAGKTCvrQ0gq2/19QE6XPVd+BqtSMb3vvgU27Jo3IxZ7IH/N7FXDHlHDE/1X/42aKwVI1rAMpo4KAcXbsN6d+YXz9ruFXJ8CU53dZ0FkHoADL9h5+LJbRTBj6GkKTISaZ/Idc75w+OE8gwSGR4AGaHiceNYwCKQ6l10HiV0IYM0wTh/xKWLQ6xUHltbDq7BH3L78mOKAuVyB/vHbcedrn07vOPanuabt4/Rildg5sJY/WyPuMAcclICIhdrf5DdM6Pavhvpzbes4cwWsTcYU96xZkN77IHGtKPpLYJhY40ehdp+lMIKqx8K0Gh14OD9/3i1BxWQctwnwQ9rt/gemvrWz+woLmSeCtYEFPVgg1VVq5P5CJr2l4rkOkiDZ1fPXInaGv7aRv5CjqLygopcBMrZWNTGvAwRENlkbu8fIwBmAnAGRlFh9q29++u9rpd5/wF+sXgyRMytdg0KnlJYNmN9+V6VzMX70CdAARb/HFVeYzOY+bGA+rGqr9sCyGtkJ1YcK17Y9Cv+342oeqpLM9vxQRI6Gpy9pzKiorbzxq6ZG5qpvAqLNYpFQg5NU5Y3Ccys+j0WLqv1zYJJLes6DyIVi9aDP8wUNUgSTLPCrQib9q6BjM55bBGiA3Op34GqndS1LWzGXAma7v7BH4AkOE1Ch61RwX3+m/YVq5S4ZPsUsC0lBdBqAV0R3P7TNgwSqQUAFjVA5FtA1BlhrVZ4ozG+7txq5/RxTb82dbGJysUCnVCvn3jwioqKNMevdt6ZjXq7q+ZkwMgRogCLTyuoL8fe0UshHTNyg5gv6ibwSL+q9qxem+ytGIpuNJbX1alEkIN6O0i0IHiRQYwJWvZWQeLOI2gIKt1VyRenpt+ZaikYvK23jUsNj9yKi8CC4N59pe6yGpTB1iAnQAIW4ebUsvaXzwfcaYz9q1Y4zkLrZzd1fSG7i+Bm5ly87IdArMhNveWhyU0PxaqsoCiS5ewsPHiRQHwREzHrP2v6Y2LE7ig23bbzuwvVBVjZz6UuNG7f0pkXxwSDjlhPLQscYa7ZYMb/snz/7d+XE4lg3CdAAudn3slRPu637NPXkY6qSgFT/ttdhizeyzfOKubUdc1dCpOzbckfcsvwYryF+jVrsENiW3csT8SCBeiMgnhh9Wy0mxuL2trevnlvaW6+sQ1Wmdi2fFYvF07Bajw/4qwiKYvTONde0P1OWVg52jgA/yJ1reXmCk9ncTBFcB0+2Qer8KoiR/IAO3LM+c9GoNxttza44w6rON8bbrtbEy6PH0SRQeQIGug0mPl5Vl/Rl5jw92ozTFueOtXG5DFZTo41RlXGq/l5h49XIrYVM+uWq5GSSSBCgAYpEG6sjYsriFUclYvZ6q/q2QI6uTtbysyjMswPb7P0j3VajtJKz6KVQ/zKShG4l6vLJMUJYCRgYWPUsBMvzHe2PjERHafuKseZigT11JONqea4CrxrBjAHP3LRuwZw3a1kLc4eHAA1QeHpV00pb77gvpQMN1yOGl+Hh7JoWM8rkIvbBvvUTHxrOthrJzuWXiomlVcUK7I5RpuQwEqgZATVogsUAVB4d1hti/vYVkzdeqGpm16zoMhJbyBMGepIkdt3Ud9Ul+TJCcagjBGiAHGl0OTInZx+YGLeJ6xMWz3txPVf9t6DCeohsQrG4LL9w3qpUtudD75IRMwYDxbkqpkUE62vxan9Y0bLuOiQgIrB2vAU2mkR8OTz7rrWC/LeoUrcuOxPx+DyoTqhDFcMqyd9E1hj8xnrm1KIZuGl95qLSRsw8SOBgBGiAODcOScBfcn/bOL3exBpe8orFM2qy7kcFerR7Ww2zzRh74mB4BZpEcDYU2wCEYt+xCqBhyAgSUOB0EYxTxVMC7L2i6Xl4OZ5Ak9p9994KKwL1N0318AcT0xPHbpWb/C1qwqqFdVeeAA1Q5RmHOkOyK/dJY2K90GKrquw1C6EWtbd4M1NhY4C+CsgYEfGvbjUZ6O8UeCsaGqmCBEqvLR5poef4C3aqyOOAbgfkOIHxABupB4cV+qwxWGutzCh0pG/yN6PnHCCBAxGgAeK8OCiBZHZFh3reFsSwxqhcHj1UJQM0w3+NVlWbINIIxVYDvEQDFL1uu6xotwHCCVCMg/GXc5BdqhoTmN6oGaBSnz3vDo0lZkDQXMjM6XK599R+cAI0QJwd+xCYkc2O6c1ktqe6cldC1ez0ErmmuPcFhTZED9VuA7S/Lhqg6HXadUV7DdB+IKJqgBSyU7ds/K4Z13yRv1dgviN95+Bnm+tzgfrfIUADxNmwl0DL4twsY/BRNWgRz6zKd8z+Uaqr53MQHBFNTDRA0ewrVe1PwDUD5OtXwWuFTPpnqc4Vn9OYPVMs+q3FPf0L0is5Q0jAJ0ADxHlQIjD97pVji9s2f8N/LgCiEwWatZ55U4zOjTCi9xxIm/+QKG+BRbjrDkrzDZD/kP9BpL8SVSQS03thY+9R2AxUNvrP+8XHNv/T6stn+S868HCcAA2Q4xNgqPzWbO6b/ivuIibuafEZI3ICVAwRkQAJkEAYCQhQtMa+YDR+lqotimCgL5P++zBqYc3BE6ABCp5paCO2/PxXR0hj4yUKLYj/hojC3/eKBwmQAAmEl4CY1WrQC2tTunPnff2f+PDb4RXDyoMkQAMUJM2IxEotWXExrD0vInIogwRIwHEC1qCn/9p0j+MYKH8/AjRAnBL7EJhye25G3JobYC3nBucGCZBAVAiotQM/6l9w8eqoCKKO8gnwS658htGJkNVYKx78C1U7OTqiqIQESIAESm+F9Reubfse/L2NeZAA3wLjHBhKoDW7vD2sGyGykyRAAiRweAL6QL6j/ZHDn8czXCDAK0AudHkYGqffmmspxvWLfOtrGLB4CgmQQCgJiJiBXdj1XW6UGsr2BV40DVDgSMMZsDW74gZVe1Q4q2fVJEACJDBMAgYv5a9N3zLMs3lahAnQAEW4ucOVlszmzhbFlcM9n+eRAAmQQJgJeDF0rr0m/XyYNbD28gnQAJXPMNQRjv1prmnbePkyrI4NtRAWTwIkQALDJCCQjX0p/Tek08VhDuFpESRAAxTBpo5EUmtn9xUqcs5IxvBcEiABEgg/AX0s39F+X/h1UMFoCdAAjZZcBMZNWXzfUXHTcEMEpFACCZAACYyMgIhFsXhjfuG8vpEN5NlRIUADFJVOjkJHMpv7C253MQpwHEICJBAJAqLo7Zuf/nEkxFDEiAnQAI0YWTQGTMsuP9equSwaaqiCBEiABEZHQKR4e1/moqdHN5qjwkyABijM3Rtt7TeuTCQnbf2awI4ZbQiOIwESIIEoEBDFhr6Otu/AvyXGwykCNEBOtXu32NbsinZVO9tB6ZRMAiRAAu8mIHJfPtP2GNG4RYAGyK1+o/Wm+8ZhTMNfqkXcMemUSwIkQAIHJKDA9onN2//15csu20lE7hCgAXKn17uv/vC1d8c6TrkkQALDIiDySD7T9sCwzuVJkSBAAxSJNg5PxITso1OaZOBLsJZ9Hx4ynkUCJOAIAQGKAwPbv7Pu45dtckSy8zL5RejQFEh15q6D4ASHJFMqCZAACQyfgMhT+UzbL4Y/gGeGmQANUJi7N4Lapy3OHWsNPjWCITyVBEiABFwjoJJo+Pe+q87PuybcRb00QI50PdWZ+zwERzgilzJJgARIYLQEXs53pG8e7WCOCw8BGqDw9GrYlbbclpslHuYag2f6rk3f09K57EQjsYXDDsATSYAESMBhAp7YH63NzH2rtavncgs51ap2r53f9luHkURSOg1QxNqazOamieLPRBFXQVEFy6B6okCOjphUyiEBEiCBihBQwXMA3hLFvCGfpT8oZNJrKpKQQWtCgAaoJtgrl7Tl5786QhoavwjgQgAPiZXfwehZlcvIyCRAAiQQMQLGqHj2CSv4wOBnKQTfowGKVp9pgKLVz5Ka1q7lC6zErzDArVAdp9CTIiiTkkiABEigYgRE9HfwABuThUbtXX0dcxdXLBkD14QADVBNsFc2aSrb8zFr9M1G47064CX+guv+VJY3o5MACUSRgHiyc+e/eGMbTjFWjuLr8dHrMQ1Q9HqKZFfuv3gDY/493rBjLpS3vyLYYkoiARKoBgGRR4q7mn4TS2z/QqEj/Y/VSMkc1SNAA1Q91lXJlOpc/h5V06ZjE1mzc9dfQsVUJTGTkAAJkEDECKiRnUlNfqvg5T8hYnvy8+e+EjGJTsuhAYpY+5NLei5FsbgFsdg4UXwwYvIohwRIgASqSqD0Jq3nCSQ+vjC/7d6qJmeyihKgAaoo3uoHb83mvmIGtt1pE+M/rmoT1a+AGUmABEggQgREtlpv1y2xWOLavkz62xFS5rwUGqAITYGp2eVHGjVXwsgqsTo3QtIohQRIgARqRkBt8S6Y+HlW7J3+Aok1K4SJAyVAAxQoztoGm9bVk7ZGErD2TADja1sNs5MACZBARAiIWQ3oq0aLxTUd83IRUeW8DBqgCE0Bf78vMfYlVTM7QrIohQRIgARqTkCs3qsiZ+fnp2+seTEsIBACNECBYKx9kCP/Y9nUgbGxT0ElD9X31L4iVkACJEAC0SEgRn+vkJkN2vjT3sx566KjzF0lNEAR6X0qu+xDgsTRKjiZCx9GpKmUQQIkUDcExKBoPH3WQlb3zU//um4KYyGjJkADNGp09TUwtWTF9SomLl6Rm57WV2tYDeAxYXkAACAASURBVAmQQEQI+JukipjG/LVzboqIJKdl0ABFoP3T7145trh1y//l7/4u0IYISKIEEiABEqg7AipYbxTNsbHN/7L68lnb6q5AFjQiAjRAI8JVnycns7mzRfViQMbWZ4WsigRIgASiQUAF/QAeLmTST0ZDkbsqaIAi0Ptk14qMQE8H1EZADiWQAAmQQN0SUGC7/0p8oaM9W7dFsrBhEaABGhamOj5p0SKTOnn2P4igqJCBOq6UpZEACZBA6AkINCEw3prnehZh0SL+0hnijtIAhbh5fulTb82dHIvZGwCzNeRSWD4JkAAJhIKAWhuzam5ZuzD9fCgKZpEHJEADFPKJ0Zrt/hNYuUgFa0MuheWTAAmQQCgICGwTRB7ty7T/ZygKZpE0QFGcA8nO3H8XkQSg26Ooj5qiR0CBtgOpEqAnemqpKIoELGSMEWzNZ9r+Lor6XNHEK0Ah7vQRtz9yjLUDX1Or60Msg6VXmYAYTLSKk0WxQ4EXBNhRzRLqxQAp0CTASSpoMoLn1WJjNTkwV8gJGDMuZorfffvqua+HXImz5dMAhbj1qWzPRVb0KmPRF2IZLL3aBETOV9UmKJoBbILgj1Uu4eyD5Kvua8WK4wFMgGCziOyA6iNV5sB0ISagRqeImrvzmbYHQizD6dJpgELc/uSSFX8jqpOhujnEMlh6tQlUwwAp1it0vQg2WGvWq9qd/lYCoigaQQdErAKeL12AGFSNVXSpIK4WcVE0mTgmKWSyKCZBMDlwTDRAgSN1KqBKsxopFDJz/qdTuiMklgYoRM1sza44brBcsdpShP1qzMQK/t+p2g0hksJSa0gg6FtgAtkIkVcAvBor2rdXL0z7C8Ud9Eh15RYd6B/zHekD/v3gudNvzbUUG2LTRYvHKWIzYa1/BWvUB2+BjRqd8wNFzCQfgmd1Shz4NzWyd873Zea86jygkACgAQpJo/wyU13dVwNyRsnwQPw9v84C1L98/yxU8yGSwlJDTEAgu6ziJVV9tbHRe/Wtq+aN6A3E0Rqg/ZH5hmin8Y4zkjjOwJ6oQDzEWFl6mAiIpFT1VEDHA2aVQN/YXb4+ne9ovz1MUlyulQYoRN0faoAAnA9Bsyp20ACFqIlhLVXEQvQVUbOqL2mfQzpdrCspK1cmUi9vOrX0S4GIf6WUn2111aCIFbPHAImgSRWbBHiUBih8PeaHRIh69o4B0gkq0gbFJr98GqAQNTFspfpXFo35vUKfLmTSW8JQ/pSbl06IJ5rOUJFzRNEShppZY8gI7L0CVPoEbhbYFYBs4hWgcPWRBihE/RpigKaryHuhKH0h0QCFqIkhKVUFb6r1HuqfP+/FkJR8wDKnZZedapG4AGqnh1kHa68zAvsYIIwXyO8AXU0DVGd9Okw5NEAh6pdvgBRyNhRnw0grVLfRAIWogSEoVcS8aGLFR6K2tknythUnQPUCsXpMCNrAEuudwFADJDIWVvsgeFKgT/IZoHpv3jv10QCFp1dILen5IlQuAexJgOkDdN2e8t/mQ9AhamQdliqQtzy765f9Cy5eXYflBVbSEbcvP8azsY/AaiqwoAzkHgERf/4csVu4TBHYlMK8CNH78te2fd89IOFUTAMUor6lunJ/BtUz4f/2IZgKNQ8LbGktFR4kMCoCRrZZtcv7M+1PjGp8GAepSmrJig+qoE2sNoZRAmuuDwIKExPR86C6vvRLqMiqfEf6B/VRHas4HAEaoMMRqqN/T3Z1XyaQc0slGTkOVrneRB31J2ylCOSJhDQs682c5+Q+ci0/uatZmidcIorTw9Y71ls/BNTIUWL1Tb8ihT5e6GhfWj/VsZJDEaABCtn8aF3cPRex2DiItWoxK2Tls9x6ICC6qRiT7Lqr0731UE6ta/CfDxLVj8Hq2FrXwvzhIyDwHoYkxsLztvYtaF8ePgXuVkwDFMLeT88+cLRnE1eoqH81yF+BlwcJDI+AwUsN2niHq1d9DgbJf3U+kRjbodAjhweSZ5GAf8lHjjMGvzaI/XJ15sI9iyGSTFgI0ACFpVODdS5Skzql57/6f7QiFxrVsRDZZxVogRRULX+7D1tvK1mvv/eWh1xhQdtDlUwT6tiLFpnUael5sPa8UOtg8YETEDEzFJrcJ7BqSiGbBVpaBDH/XNvfYZHYwJMzYMUI0ABVDG1lArfc9XCz2THwdTFypFp9P/zNIxX77L1kxLxMA1QZ/iGNuiVWtEvevm7u6yGtv6plt2S7TxI1Vwn4gHRVwddxMt8AWbUzh5YoIv5G1CqKlSrotU2Jb/VfcQE3pq7jPu5fGg1QiJo1WOrUzp73x0Q/AmAagFYFjvQ3B4Ngq38ODVAIm1qhkhWmUJRdN6/PXLSxQikiGbb1jkdSOrDregDjIymQokZEYB8DpBgnIkVA10Dhr/+zxsZwT/816ZUjCsqTa06ABqjmLRhdATOXLm3ctLmpDZAPqb8OhfUmqzH+sv9jaIBGxzRqo9TI6xPHHXnry5edsDNq2qqhZ8rNv54Qj2/7uL/sRDXyMUf9EhhigLaLaEHVbJDSOmz62ITmHT0vX3YZf8bqt30HrYwGKIRNGyw51dV9iW+A9kooXY2VI8XILi6MGOLGBlC6GnmmoHPuQEa4TlQZPE/NPtNQQH6hKI4tIwyHhp2Av/aa1QaBvgURfUeOPpbvaL8v7PJcrZ8GKMSdf5cB2qPFwFuhJjaOr8mHuLlllM61SMqAd5ChyWyuQxSnBB+ZEeudgBisFGCLtWh7d600QPXev0PVRwMU4u5NWbziqIOVv27BnDdbb7ovZRubPiqwR4dYJksfEQF9mnsRjQjY8E5etMgkT5nzCQGOG94AnhV2Agrzhtm5456+6y/JH+6zNuxaXa2fBsiBzk+7tfs0TchFajHJAbnuShR5JX/tnJv3vUTvLo7Ala9cmUi9uvUzsHbPHlCBZ2DAOiAgig1iYvevycx+tg7KYQkVJEADVEG4dRU6l4u3FPT8GOQCVSTqqjYWUzYBFbxZSOI/kE4Xyw7GAAclMP3Gu8cOTGr+U4FOIaZoERDILgt5uCCzH+Gzc9Hq7cHU0AC50ee9Kv03W2IN2y/m/kcRaryR/IRxR/6Eb3tVp6eTfpqb1DBOPgvVcdXJyCyVJqCCP2hj4j6u41Np0vUVnwaovvpRtWqm3JybEU/go3vWEqpaXiYKloAIBuLbvR+89cl5a4ONzGiHInDE7cuP8Wz8U7CWn6HhniprigO4Z93HuS9euNs4uur5wzs6bpEZ1dK5/L1GTDsXfAtnS1VwZyGTfjKc1Ye76tYl3XPVyoXhVuFs9VvUFpcXFlz0e2cJUDhogDgJ4K910m/XtEFiHwA0RiThIKCC5wqZdFc4qo1glYsWmdbT5nxGLWZEUF1EJYkHwa/zx4/vwaxZAxEVSVnDJEADNExQLpw28ZaHJjcl7KWq9kQX9NaTRjGYqCqn+zWJ6B/U4pBbV/hvqkw1qe8/mzltVz3pcK2WydkHJsYl8UWxh943bKT9dY1jNfQK5IUdxdivNl534fpq5GOO+idAA1T/Pap6hclsbiZULxMI33SpEn0VfAC6Z98pwRZR/OZQqa1N/LB/wQWrq1Qe0xyCQOrWZWciFrvqUJBG2l8CD46ACvrF2nvz8+e+ElxURooCARqgKHSxEhr8y/snzznXGrSJoqkSKRhzHwJnqe5eZE8ErwJ46mB8rOhv+zPtvyS/+iGQ7FrxmcMsODrs/taPqnBXojDbTczr6bs6/TjXxgp3LytVPQ1QpchGJO70u+8e621rnqvQ9/rfzRGRVXcyFGiC4rxSYYJHBdhx4CJ129ht8p3XPp0+yL/XnTQnCpp+a66lGJcvQtUcSPDw++sErsqKFLEW9okmNHX3Zs7bXtlkjB5mAvxCC3P3qlg7t9WoPGzF7g03BXjtYNn41lfl+zDaDKnO5RdDzG4Te4BjOP0dbW6O201ABa+ZHbuW+ttXkAkJHI4ADdDhCPHf9yGwz7YaxrQcFI+1/UQ3MgKH/YIUXZ3PtP9wZFF5dtUI3LgykZqy9cuwtpkGKGDqh/ms2b19hXf/msw8bl8RMPooh6MBinJ3K6Vtz7YaBvEbVL13bbQqRl+EFT6gO0L+hzNAKvhBIZNeM8KwPL2KBA71QPTh+lvFMsOXyuh0tfKut1NFYm9YFH/Sn2lfET5RrLjWBGiAat2BEOdPZnPXQOVaQFuHyqABGl1TD/UFKQbP912b7hxdZI6qGgFVae3q+YrKuzcepgEqowv7GyARhdo8RJYUMunbyojMoQ4ToAFyuPnlSm/JPvgRo977tbQxpJwDwPNj0gCNjuyhviCtHfhh/4KLeVVtdGirOip524pzxLNX7J+UBqiMNgw1QCIG1j4pIuusxH7bn5nNNyLLQOvyUBogl7tfpva9Bsj/bVf9LQF0Mw3Q6KEe9AtS5JV8pu3no4/MkVUlsGiRSZ0y5y8B7PMsEA1QGV3YxwCV1st62H/uhwaoDKYcyteaOQdGT2CvAVLMgPhXgGiARk8TONgXZCxuf/r21XNfLyc2x1aXQOvi7g+okUuHZqUBKqMH+xggM373FSD00gCVwZRDaYA4B0ZPwDdAojpODM6Fqr/Q24bdV4Dsej4EPXKuB/qCVMGbhUz6JyOPxhE1JZDLxVP98jVYHTtYBw1QGR0pGSAzufT5UrrirE8pzOMqspW3wMrg6vhQ3gJzfAIEIT/V1fMNwE4DZFMQ8VyNccAvSNVf5Oe3H3RVaFdZhUF3qqv7EkA+RAMUdLd0AoA1+Y72fwo6MuO5RYAGyK1+V0RtqrP7+xD0A2IrksCRoPsbIIHs6kvpPyGdLjqCIFIyk9ncNFH8GQ1QwG01auBhan5++58HHJnhHCNAA+RYw4OWm7p1WavG4t8U6LqgY7sW7wBXgJ7Md6TvdI1DlPQmu3J/LkDS18RbYMF1Vo1MloHi/8gvnNcXXFRGco0ADZBrHQ9Yb+q2B8+E2k/BKm9/lcl2/y9IY/GzNQvSB90Wo8x0HF4FAqnFy8+DMRfTAAUM22A8JHZT/prZqwKOzHAOEaABcqjZlZCayvZcBFX/A35rJeK7FHM/A7Q535H+lkv6o6i19ab7xmlT49f9TVJ5BSjADquMgcGyfKbtgQCjMpRjBGiAHGt40HJT2eWfAOQMqGwLOrZr8fb5ghR5hB/u0ZgBya7cJwU4jgYouH6KiTWo2ue4PlZwTF2MRAPkYtcD1Jxa0vMN9WSyiN0ZYFgnQw39gtTiwC2F6y5+yUkQERPdku2eY1TSNEDBNVYRaxCx6/OZtv8VXFRGco0ADZBrHQ9Qb8tdDzebHQNfDzCk06H2fkGK/jF//IR/wKxZA04DiYj46dmHji5q8TM0QAE3VNTaxob/3X/FBaUV6HmQwEgJ0ACNlBjP30sgmc3NFLVXAsZfmp5HmQQGvyAheIiLH5YJs56GL1pkWk+Z89cWmOmXJQAfbA+iP6qb1Mh/FjLpl4MIxxjuEaABcq/ngSlOZnMXiMiZsJoKLKjDgQYNUAzyH2s62nIOo4ic9FS25xOqOpcGKMDWGvO2qn2mkEk/HGBUhnKIAA2QQ80OWmqqq/tqFWkWxbFBx3Yx3qABMrLr/+3LXPKqiwyiqtn/ZQGKP6UBCrDD1r4CI9vyHe23BxiVoRwiQAPkULODlprq7PmiGl0rilOCju1ivEEDVJDCDchkPBcZRFVz6y3Ljrfx2H+lAQqww6qrADMtP7/t+wFGZSiHCNAAOdTsIKWmFi//mBhzg3oDdyOWOCLI2K7GKhkgla2F+W1c4j9ik2DKzUsnxBJjvkMDFFxjVe3rRszVauUn+QVtvwguMiO5QoAGyJVOB6gz2dlzqRjME8GJ1uoOgT7HfcDKB1wyQFZXFxa0/3X50Rih3gi0dOV+JECCD0EH0Rk1KnKiERmnihfVYllhftu9QURmDHcI0AC50+vAlKY6u6+CyJkWOsZAThTIswrlK9tlEvYNkIU+u5a7XJdJsj6Hpzpz/6yCFhqg8vsjkIRCT7LQVwxkO1RX5ee331F+ZEZwiQANkEvdDkhrMpvzX3u/xghmWEWTKLhbeQBsfQOkHh7rX5i+MYBwDFFnBFoW9/ytGH0PDVAwjbEGGgM8q+gFcFshk94STGRGcYUADZArna6EzkVqWk/t+ZIqJlcivGsxS7fABPcWMuku17S7oDfZ1f1lQN5LAxRYt9fkn2v7IRaJDSwiAzlFgAbIqXYHLza1ZMXXYW1z8JHdi1i6BWblrrV8oDOSzW/p6vmsQM+nAQqmvSroL2TS3w0mGqO4SIAGyMWuB6jZ3wsMVscGGNLZUKVbYFbv6F/Q/p/OQoiw8Kmd3dcbkXYaoGCaLIL1fZn0t4OJxiguEqABcrHrAWpOLun5K7HaGGBIZ0PtMUBL+he0/9JZCBEWnszmOqC4lAYooCaLbspn2v8loGgM4yABGiAHmx6k5NYlub9Ri3iQMV2LpUDbHs2TBHgawCv+n/Md6UWusYii3lRXrtRHVZwMwckANvh/FqAninqrpklkK3eDrxrtSCaiAYpkW6snavDDvXoZo5dpqAFS1VVG5I80QNHp896fEdUTVOQ0GqBgeqsw2wsdc/4xmGiM4iIBGiAXux6U5kWLTOqUOaXl/XmMnsBQAwTgycFbJLwCNHqm9TRy7xUgyHGAnkUDFEx3BLKrr6PtfwQTjVFcJEAD5GLXg9KsalLZHhqgMnnuY4BUnxKR0kaoNEBlgq2T4e/cAtPjIEIDFFBfFLqr0NFOAxQQTxfD0AC52PUANfMWWPkw+QxQ+QzrOcKQn5H3KHAGrwAF0y3eAguGo8tRaIBc7n4A2lNdPX+L0oKsPEZLYB8DpPIMRF/iFaDR0qy/cXsNkNUT1cipNECB9WhLviP9z4FFYyDnCNAAOdfyYAW3ZnPfVEUi2KhuRisthOjhzrUL03e6SSDaqqd2PXilgXclX4MPps8C2djX0fa/g4nGKC4SoAFysesBak5mc/+PKJoCDOlsKN8AeRb3rFuQvs1ZCBEWPuXW7kwsJpfRAAXTZIWsK3S0fSeYaIziIgEaIBe7HqDmVLbn/4bquABDOhtq92aocl//wrbFzkKIsPCWxd0LxcjFNEDBNFlhCoWOOd8LJhqjuEiABsjFrgeleZGa1Km5r0JlQlAhXY6zZzPUnkIm/TOXOURVe3Jx92dgZDYNUGAd5maogaF0MxANkJt9L0t1MpsbD+AaI5hhLcYLsKOsgBxcIlAyQIrfF+Zzf6MoTomWrp6/FOhZNEDBdNf6b18YeFbRC+C2Qia9JZjIjOIKARogVzodoM5UZ/dVEDnTQscYMSeL4g8KHQgwhZOhSrfAVP/YP7/975wEEHHRLV0rFgnssTRA5TdaIAmFnmShrxjIdqiuys9vv6P8yIzgEgEaIJe6HZDWZGfPpWIwTwQnqmIX1D4DiA0ovLNhfAMk0HX5jvavOQshwsKTnbl/hcDf7+21CMuskjQ1CjnBGBmvihfVYllhftu9VUrONBEhQAMUkUZWW0Zqcc/HxOgN6nlLEYulqp0/ivlKt8AgXqGj7YYo6nNak6oku3r+DwRCAxTMTNDiwGsmnrhGrfwkv6DtF8FEZRSXCNAAudTtgLWmOnu+aI1sMGpPDDi0k+F2GyBgYBu+uuHT6dKO4TyiQWD6rbmWgRhKi/bRAAXTUzGx36tnj8zPb/t+MBEZxTUCNECudTxAvamu7qtVZJIojgowrLOhBg1QTGL/tCYz+1lnQURQeKqz+ywV+UsaoOCaa2PygvHsrnxH++3BRWUklwjQALnU7YC1JrO5C4zIOWp1asChnQw3aIBUdEl/pv2XTkKIqOjWzu4rrMjHaICCa7A16BXF84VM+uHgojKSSwRogFzqdsBak9ncTHi4WgzGBBzayXCDBgiClYVM+rtOQoioaH/BUFU9jQYouAarYj0MflnIpF8OLiojuUSABsilbgesteWuh5tlx8A3BPACDu1kuEED5D8jooJ/5rom0ZgGE7K/mtKkjV8e2t9oKKutChEz4DXGvtN/xQWba1sJs4eVAA1QWDtXJ3W3Lun5K+vJBBG7s05KCm0ZQ78gRcztfZk5T4dWDAvfS6Al2/0+o3I5DVBwk0IhCYGu527wwTF1MRINkItdD1BzKtvzCQjOgdVNAYZ1MtQ+BgjyRF9H291OgoiYaP9lAUDOoAEKsLFGDBQv5TNtPw8wKkM5RoAGyLGGBy03le25SNXf4dpuDDq2a/H2uQUGs72Qmf2/IFxgMtTzIJeLt+blGwptoAEKrpOlK0CCnnym7YHgojKSawRogFzreMB6U7c9eKaq/VOxui7g0M6F2/8L0vPQuXZh+nnnQERIsP/zAc+7ypdEAxRkY2UMYuaW/DWzVwUZlbHcIkAD5Fa/A1ebunVZqzXmvxmRfODBHQu4/xekCp4rZNJdjmGIlNxUZ/f1EDmeBijotsoEeMV/zC+c1xd0ZMZzhwANkDu9rpjSVGfuB4hpHpa3a8qB/O4rBOI1SP6fezOZ7eXE5djaEPDfkjS7vK/B2tLnLK8ABdQHo0Y8ndw3f+6XAorIMI4SoAFytPFByk52df+VAElA+CB0GWAP9AXpqffLtfPn/baMsBxaIwLJxT0XitG5g+lpgIJqhE6AldX5BenS1iI8SGC0BGiARkuO49CSffAjojpOoB+E4AxVlPavEmPX+x9QRDQyAgf5glyT70j/YGSReHY9EEh29XxZoFNogALohtHpas3k0ueLYBKA36vKShXZ2p+ZzVXTA0DsYggaIBe7HpBm3wAZ9d6vihkQOQfQ0oJkYvRFGqCRQz7YFQItDtxSuO7il0YekSNqRaA1u+IMVXv10Py8AlRGN0oGSAY3XR4PxZMi6LUS+y0NUBlcHR9KA+T4BChH/l4D5P9GpnIhDVA5NA/+jIjCvFHomPN/yovO0dUkkFrS80VYTdEABUR9qAESjAfwsCg20AAFxNfRMDRAjjY+CNlDrgBNhZGzoGp5BWj0ZA91hSBWtD99+7q5r48+OkdWi8DUW3Mnx2KYv38+XgEqowP7GiADi6dEsJYGqAymHAoaIE6CURNIZnPXQOVaQFuHBuEtsNEhPeQXpMgrXPV2dFyrPSrVmfs8BEfQAAVIft9bYHsCSx9ElxQy6dsCzMRQDhGgAXKo2YFJzeXiLQU93yB+g6p39P5xaYBGR/pwVwg8sT9am5n71uiic1Q1CLR0LjvRSGzhgXIdrr/VqC+0OQ5ogPwHomNvWBR/0p9pXxFabSy8ZgRogGqGPpyJp93afZom5CK1mARjWg6qwtr+cCqsXdWH/YIU6ctn2v69dhUy8yEJqJrWJT1fUkXpbSVeAQpwvhzms8Z/HkhM7P41mdnPBpiVoSJOgAYo4g0OSl7rTfelbGPTRwX2XVd8gsrhepzDGiAA1uKe/gXpla6zqkf9ya4VswW2/WC1Dae/9agrTDX5LwyYnTvu6bv+Eq5MH6bG1ahWGqAagQ9L2hnZR8cMyM65avE+/w33sNQdtjoVaILivFLdgkcF2HHAqwiCHeO24l9f+3T6gP8eNt1RqXdy9oGJDRL/klrED3L1Z1j9jQqPmuoQsdbq75pM4/LezHlcRb2mzajv5PxCq+/+1K66RYtM68lzzrUGbaJoql0hzmQ+SxXHlfyP4FUATx1MuUCe6Otou9sZMiEQ2trVs0ChJx2i1GH3NwRyQ1GiCnYYo7m+q9OPQ0RDUTSLrCoBGqCq4g5HslTn8veoyEcEsncV23BUHt4qVfABaGl9E/8K0BZR/OZQaopx/Hjd1ene8CqOTuUt2e6TjMqCQykaaX+jQ6f2SlTQL9bem58/95XaV8MK6okADVA9daPGtUy85aHJTYmBS1X3rrha44rcSS8GE1Xl9N1XgPQParHxUOoFsnGqJL/3bOa0Xe5Qqj+lyWzON61/cbirpCPtb/0pDX9FAnlhRzH2q43XXbg+/GqoIAgCNEBBUAx5jFOzzzT02zVtkNgHAI2FXI4z5SvMs4WOOVlnBNeh0GRX92cEwhcD6rA3By5JPAh+nT9+fA9mzRoITdkstCIEaIAqgjU8QVs6l7/XiPHfXNl9+4VHqAhozNxVuGbO70NVdESKPdxbXxGRGVUZW9QWlxcWXMSfnah2eBi6aICGASmKp0y5OTcjnsBHAUyLoj5XNAlkVzxRvPGtq+atdUVzPeicml1+ZEzNn/LNyHroRlk1rCkO4J51H+fzdGVRDOlgGqCQNm60ZU+5+dcT4oltFwFyxmhjcFydETCSb9Hkj/k8UHX60nLXw81m567PQmVCdTIyS+UJ6NN2y+b7+2+4YnPlczFDvRCgAaqXTlS6jj3bV8QgF6giUel0jF9dAgp9o5CSm5BOF6ub2a1sx/4017R1jHxWRKe6pTz6av2rqRbycEFmP4KMeNFXTIU0QA7MgWm3dZ+mnrlYoRMdkOuyxJfzmbZbuOZJhabAjSsTrZO2fEqhR1YoA8PWAYHd22p496/JzOO2GnXQj0qWQANUSboVjj1l8YqjDpZi3YI5b3L7igo3oB7Dq67Kz2+/ox5LC3VNixaZ5KlzrhfFsaHWweKHTWDothqH+6wddlCeWFcEaIDqqh0jKybV1X0JIB/af5SBt0JNbJxazBpZRJ4dDQL6WL6j/b5oaKkPFcnOnmtF9LT6qIZVVJOAGKwUYIu1aHt3Xv6sVbMXQeeiAQqaaBXjvcsAqYoaOdK/lw1VbgZYxV7UWyo18kzhmjm3Q8TWW21hqsdfI6uA/EJe+QlT1ypRq0kqbIMAb+0bnQaoErSrFZMGqFqkA84zc+nSxk2bm9r8K0AKmSJiJylMC1THGjEvq1pukxAw87CFU8FrE8dvX/zyZZftDFvt9VBvy0/uajbjmj8BkVQ91MMaakdAxMywamcCslXErlU1GwS6DtDHJjTv6OHPWO16U05mGqBy6NVobMttuVnGw0ehmAZBgPNb3QAAIABJREFUK6DTVcVAsNUviQaoRo2px7Sqebt188/5eu/ImtN6xyMp9YqfgLXNIxvJs6NI4B0DBEAxTgw8KN6Gog+CNTaGe/qvSa+MovYoa6IBCll3S2uQ7Bj4uihmqJSe8YkpsM8ieDRAIWtqpcsV2VSMaZabpw4PtL+5qai5SqCNwxvBs6JOYB8DtEfs7s2i1YpipQp6bVPiW/1XXMB1hEI0GWiAQtSsUqmL1KRO6fmv/v9aNRcYseMgss/zPgIp8BZY2Bpb6XpLeyAty2faHqt0ptDGX7TIpE6Z7S8S+q4XC0KriYUHQsA3QApN7hNMNaWQzQJ91P/7/HNtf4dFfOYuEOBVCkIDVCXQQaaZnn3oaItdf2Jt7FyI/jHI2IwVbQL+jthTJXk7V43et89Tbl46IZEY28E1fqI9/4NWpyrHxWB/Y4x3z+rMRW8EHZ/xKkuABqiyfAOP3rq4ey5isXFivKL15NzAEzBg5AmImPWet3NJ/4KLV0de7DAEtnQuO1Ek8TGBHTOM03kKCexDQMQ+CMTHw/O29i1oX0484SFAAxSeXiHZ1X2ZYND0yHGAvhqi8llqnRFQmMcnNk9f/vJlJzj5lph/1SeWaPqwQE6ts9awnBARUODIwdfjFfp4oaN9aYjKd7pUGqAQtT/VlfszqJ7pv5argqlQ87DAcs+aEPWwDkvdAs+7P79w3qo6rK0yJe1+1udDAjNHoQ2VScKoLhBQmJiIngvVzaW110RW5TvSP3BBexQ00gCFqIupJT1fhMolgJ4ESB9K61CUjre58GGIGlmHpfqbqZpE4z19V50f6QU0W7P3HWe16TKB3feB1jrsCUuqYwK714Y6wq9QgEmATlOYFyF6X/7atu/XceUsbQgBGqAQTYdUV/fVCjkbirNhpBWq20o/gCLP0gCFqJF1XKoYPO8VEw/2L7ggUs8H+a+2x6xcqIIZdYyfpYWFgH8VXrV061QEDWqxFoInBfpkvqP99rDIcL1OGqAQzQDfAAFyBiDTFXgfoKU1J2iAQtTEsJRqzB9FdzzUl7kkvM+ZqUrrkmWnKxIXQLU1LOhZZwgIDDFAgIwV2CcBWQ3o0zRAIejfnhJpgMLTK7xjgHSCwsyhAQpR88JaquhqY83vx084clVYHpaenH1gYlwbzjJiz1HF5LCiZ911TGBfA9QssCsA2UQDVMc9O0BpNEAh6tc7BghQwXkCTFDFDl4BClETQ1uqeCr6orXFVWs75r1Qb5us+puW5u3a08V4Z4qYY2AtP9tCO9dCUPgeAySCJgU2iaK0GCINUAh6N6REfkiEqF/7GCDI0YA9C/5KpHwGKERdDH+pKr7pNi+q4FVNxF4e6fL/qa7cogNRyHekD/j3ByPm79eFnTuPgzHHa+nFAB4kUCUCe68AaTNgnhLonkUQeQusSh0IJA0NUCAYqxOkNbviuMFMYrWlKPqVmJj+0u8dajdUpwpmCTsBMZhoFSeLYocCLwiwoxxNKuhXi9fixvvj9oHGtzded+H6Q8UbrQFK3bqs1Ro50ogcBzHHQ3VcWXUDTQKcpIImI3heLTaWE49j3SEgYib5aj1rW+KQb6uR0uewf/Rl5oT3uTl3WlhSSgMU4oYnO1d8U6BTILsfhuZBAsMiIHK+qjZB4e90vgmCYLdTUVMU2A1WZaOIrreCDerpLhEzIAZFo3a+fwtNgdIaVgLEoGqsQZdaxFUQF8+OERObDMEkUUyEVOBZHsXxACZA4F9F3QHVR4bFjyeRQGniSrNaXVeYn/57AgknARqgcPatVHUq23ORKq4UaCHEMlh6tQlU2gAdXs/ZBznlycMPDfAMGqAAYboXSiFJEdyZz7Q94J76aCimAQpxH4+4ffkx1sa/qtby0n2I+1jt0oO+BTbS+hVoO9AYAXpGGquc85W3wMrB5/xYMTLBmMS33776/NedhxFSADRAIW3cYNmpru6/szCNBro95FJYviME6sUAOYKbMitCQMZAsCOfaftvFQnPoFUhQANUFcyVS9Ka7f4TQNpVwYegK4eZkUmABEhgCAGdIIKevkz7fxJLeAnQAIW3d6XKp96aOzkew6e0zDd5Qo6B5ZMACZBA1QiIorFo8R9rF6afr1pSJgqcAA1Q4EirHHDRItN68py/h6hVyECVszMdCZAACThFQKAJwKDvuZ6/xaJF1inxERNLAxSBhia7ujNq5BRjuaxBBNpJCSRAAnVMQI0pwuLFQsecbB2XydKGQYAGaBiQ6v2UZDZ3tgjmwpbWdeFBAiRAAiRQKQKimxTSXcikq7tsQ6X0OByXBigCzZ9+98qxxW1bvq5Gdom1YyIgiRJIgARIoP4IiGyFoik+dvy3Vl8+a1v9FciKRkKABmgktOr43NSSFderFo2oObaOy2RpJEACJBBaAp7EXzFaNIWO9H+EVgQL30uABigik6G1M/dBGHOMCk7mTtgRaSplkAAJ1BMBNUaetVrszWfmPVZPhbGW0RGgARodt7obNSP76JRdsvPTouZtVXti3RXIgkiABEggxAQU5lkx9qjENu9nb31y3toQS2HpewjQAEVoKqQ6c583ihesOfBWAxGSSikkQAIkUFUCccGyosVp+fnpG6uamMkqRoAGqGJoqx94WteytJV4XBSnK3Ri9StgRhIgARKIHgGFrBPBc0ZRXNPRloueQjcV0QBFqO9Ts8uPNGr83eGfBOSiCEmjFBIgARKoGQGxeq81MsuKvXNtZu5bNSuEiQMlQAMUKM7aB2vN5r5iBrbdaRPjP65qE7WviBWQAAmQQHgJKMx2K8Wb4zDX9GXS3w6vEla+PwEaoIjNiWRnz6XQ4hYxZiwgH4qYPMohARIggaoSELEPWk8HEI+PL1zbdm9VkzNZRQnQAFUUb/WDpzqXv0fVtHne9iXxhqavQsVUvwpmJAESIIEoEBCvQfL/vNNLLhSxPfn5c1+Jgipq2E2ABiiCMyHZlfsv3sCYf48ntrcDODuCEimJBEiABCpOQGEe9wYaH44ltn+h0JH+x4onZIKqEqABqiru6iRLZXs+Zo2+2bALrxUT5s+5MGJ1uDMLCZBApAjorgZ8O+5hprFyVD7T9otIqaMYXgGK4hxo7Vq+wIq5wnh6K+IyVi1OjqJOaiIBEiCByhHQp0UwYCELjdq7+jrmLq5cLkauBQFeAaoF9QrmTGZz06D4cwAXAnhIVH8PkTMrmJKhSYAESCByBMSa31lj3z/4WQrB9wqZ9JrICXVYEA1QxJrvGyBR/Jko4iooqmAZRE4Qq8dETCrlkAAJkEBlCBi8pIrXRTFvyGfpD2iAKoO7VlFpgGpFvoJ5p3b2vN+ItBvos30dbXe3dC470UhsYQVTMjQJkAAJRIZALG5/+vbVc19v7eq53EJOtarda+e3/TYyAimkRIAGyJGJkFqy4vOw9ghH5FImCZAACYyKgKq8Xpjf9tNRDeagUBGgAQpVu0ZfbGv2vuNUGz45+ggcSQIkQALRJ2B37byx/xMffjv6SqmQBsihOZDqyn0cwEyHJFMqCZAACQybgKo8U5jftmTYA3hiqAnQAIW6fSMrvvWOR1I6sOsLvPU5Mm48mwRIwAUC4u3apv+24dPpDS6opUY+A+TcHEh15a7k6tDOtZ2CSYAEDkNABb8uZNK/Iih3CPAKkDu9LimdcvPSCYnEmC8rEHdMOuWSAAmQwAEJKGRno+T/tTeT2U5E7hCgAXKn13uVtnbl5ilwgYPSKZkESIAE3kXAXy+tkEk/TDRuEaABcqvfJbUzly5t3Lh5zFcFGOOgfEomARIggaEENuel7V+REY9Y3CJAA+RWv9+5CtSZ+6AKPuyofMomARIggd0EVH+Rn9/+FHG4R4AGyL2e71WczOb+QhQtDiOgdBIgAYcJCOStvo62HzmMwGnpNEAOt3/K4hVHxY29wWEElE4CJOAqAREr8cQP+q46P+8qAtd10wA5PgNS2Z6PQfUsxzFQPgmQgGME+Nq7Yw0/gFwaIMfnwPS77x47sH38l0XR5DgKyicBEnCHwJa8FL6DTGaXO5KpdH8CNECcE2jJdr/PqFxOFCRAAiTgAgFPTdfa+XOec0ErNR6cAA0QZ0eJQCrb/TmoTCcOEiABEog4gZfzHembI66R8oZBgAZoGJBcOCV167JWxOOfh6pxQS81kgAJuEdAxAwM7Gr8t3Uf/+Am99RTMW+BcQ4clECqc/nFEHMeEZEACZBAFAlwxecodnX0mngFaPTsojcyl4u35uVLCp0YPXFURAIk4DIBFfQXrm37HkTUZQ7U/g4BGiDOhn0ITFucO9YafIpYSIAESCBCBNTGYz/sv3r22xHSRCllEqABKhNgFIe3ZLs/YlTeH0Vt1EQCJOAeAWvR078g3eOecio+FAEaIM6PvQRafv6rI6Sx8RL/UrFYOV6gU4iHBEiABEJNQPG2xs2bsDalO3fe1/+JD/MqUKgbGlzxNEDBsQx9pNZs7puqSIiYuGftc0YwEwDnSOg7SwEk4CYBAYpW8LyBOVvVFkUw0JdJ/72bNKh6fwL8cuOcKBGYfvfKscVtm78ByHEQnSgwWaC4RtXMjjCi9xxImwA7FHgrwropzTECAhypOOhq769EFYeR2FJFcaZCMlDZCOir8bHN/7T68lnboqqZuoZPgAZo+Kwif2bL4twsY/BRNWgRz6zKP5/7cerUNn9toNZoijczFXbG/toM8BINUDQ77qoq3wBZ4IR3/wZsegH7chS5qOC1Qib9s1Tnis9pzJ4pFv3W4p7+BemVUdRLTSMnQAM0cmaRHjEjmx3Tm8lsT3XlrvQXRYxbebAYky8AGouecBqg6PWUig5yVdMpA6SQnbpl43fNuOaLIGLzHek7Bz/bOENIYJDA/9/encXIVd1pAP/+51YvXhu3eyHQEIcAYQmTYJyFBONuYzaLRCQh1ThBSJEm4WFGGWlGI81oZiQeZvIwD5Ey0miURFESJsF2QyZBRGxeqg0JCcHOBiYLSwg0S3fbbbwvVfd8o1udttvG2O2+VffU8vULNr7n/M/5/avtr2/dulcBSK+FdxToHtoyCGKvGXeBvLHxqCYDkJnFpG8DrQ2G/ToD1HidbvYdHT0DRMyD8bCZO0wyMjTmGSCz0g/iODofZgt23D6wrtn7r/2fXEABSK+MUwlY9/rCnc5xxNPOM2JJY3GVA1AE2EsA5xrwURraHLFNb4E1VqebfTflAGR2Vfn6NvIpwA4AvMDg4kZ7C4zOtju4Ce/jvvHBgXsA6MaHzf4N8A77VwDSC+OUAku+XWg/MI93muFFevsggAWNQGYOI3HJHXDOXzy1n+QiUQOuIuyggb9shH1qDxJIBAhbauAcAtuSEDSlEsd4IdeCdnq87Vq4epRLbuHBGM+6iBfP3W/3vPyFgaN7rcf9aM3VFVAAqq5vQ8y+aGhDR8633BkBL3jDsrq+HshsD0qljWOfW/XbnqHhq9/WoMg5loo3AXaumXsVpH56bIhXcZNuwszo/bkwvmG5lkcQe3+ixFi+/2c99278K+Ryq0AurFcpGg4549M+dpeVXPGeXfnrd9frXrTubAQUgLJxrvsqvf/3aA+LrXcy4isW22X1uCEz//joro4ncNey4unW37V++BMR+UkfYaf5Yz8xn26c/lwCtSJAh3ZHWxQTP94x2P/gadf19a0tvYt2L6/XW194h63O4xJrOXLP6KdvHDvtfnVA0wsoADX9S2DmAJ1rt5zXEvk7SewEcPbMR4Y9knDPFQ/4x976wsBbZ7KSnvWbP25wg8nN0zy590zG6lgJhBRwcPPJuJWG9WODK396Jms569uFs1rmuhsMvm5+0InNXsyB5xdjd8/EmhWvnsl+dWzzCigANW/vZ7Xz7qHChUZ83jyLdNY6q0myGuRsrMjij3flr39ltiV7h7ZcQeMXQJRA6uZps4XUuOwEyLlwLjLYd0bzK56ZbeHyg5FzthqePbOdI4txRuyiYwdh947nBxrynkZZODZjDQWgZux6yj2fff/my73HZ+jZauZKKaer/HBnB+K4VNg5eN1WmKW+huddP9j0bl90a7xhngFx5ResGSVQIQHnYLE/5Fr82jc+c92fU89K2uL1m5ZFUW4AnnNTz1fhCYjk75/YR1HrA2/eds32Ck+v6RpcQAGowRtcre11rXt8ac5Kt5aANgc7WK06ZzovnT3VxrHh5GaOZzr2VMd3fP+JRe25I7cRrgPA/ErOrbkkUBEBsz3GeO+hUuv9uz+/fFdF5vzLJMlNBA/57utc+UMQtfFFuMihdDg2e3hHfuW22liVVlFPAgpA9dStGltr+VNU9LeacyV6nvbC4qouP7kGoMSHX//cwI6q1RkairrRfRvpFzogAlzdXAdVNRNNHFzAw78Ggubc3nGM3498vmpnKc+5t9BVclwNswtCbtyctTD2ydvSj46tue7JkGtR7foVUACq397VxMrPXr9xIHa5W414K8RHxglO0PDojvzKP2QF0r1u+GZnvMoD7zbDIgLPG3E4q/qqI4Hkhp0wS67HmzDyVU/bNn57/8NZySy+t3CJi+wGAzuzqnm0TvLRfkNL5LHhzcH+Qub1VbBhBBSAGqaV4TbSfd/wzQ64mZ4TWa2Czg6DfGL8s/1PJs/6yapuuc7dd7vuS1d83Yznw7sXvfNwNH3sNtMmNHcxuqjT4lIEhwtJe2U83/+lSlzvdkaqpOu+b/hjMFtunm1nNDbFwQZb6I2PjecHHkkxjYZKAApAehFURKBn3eZPw7nkRmpVDwJG/so72zSeH9hXkcXPYpLedYV/obNzJ/fLZxD75xlFNxswZxbTaYgEZiqwz8V82Ee4BLArYNZDYmR8sP8rM52g0sd1DxXmO8/raHZlpec+cT4aznKehdHbVz5Q7Vqav/EFFIAav8eZ7bBn/cY7PHPLnfGNahSdfHxF8aEda254vRrzn8mcyUeEY8MtcG583n7/QHLL/eSxIQfn2vV0thTe63vrTEB17KkFzDw9nh53Y5uQzx9JXmv75uBWA7pyLf7BinziK2UPutY+do6L2m4B/Tkppzr5cLLH59wTO27rX1uV+TVp0wnoL+mma3l1N9yzfsv/wPz7DTjupoPJT6kARmdZfS+iaMPYbdf+dpbjMx22eGjTuY4u+cepO9PCKtaYAsQb8PGPxj63arbfP5m69Kzb/AGYrZr1cwOd6zX6455NRqADtGfGBvv/JtPNqFhDCygANXR7s99c933DnzXPLxK2GDh292QDfndiADrVjRTN80iyejP3+OiueTN6fEX2uz11xe6hwjUObgXpW2ptbVpP7Qskz7ZijI071gxsrf3VnrDC8mM19i8n/bXJn8zke/3oDM710vtLj83IBZY85BT2zfH8wP11Z6EF16yAAlDNtqY+F9YzNPwpen4YDlcb0UGg/EDCkwUgwC0h/JK37dTwJwCPFPfj0TN9fEWtqXV964EF0YKzBkifXB+h77daa1AtrsfoyWhrm40WKn0/q6y3W36sxjzcCOAmEO85sb7BvQz4l4/7/9MCkAEdNLwFj5+b4amxwYEfZb0H1WtcAf2F3Li9DbKzJACB/ADBToN9iEBy9mPfzAOQ7acr/e+Oz65aF2QDVSrac+/GXkbRTYa3/yNQpZKatg4FjPh9rjXe8NqnVyXP22uYr677Nt5ujO4EcdzdpE8TgOYbUCT4tMGST5j+WgGoYV4SNbERBaCaaEPjLGIqAE3uiAth7iMEkr/IXqO335j5affLmTwDZGblt4hIPpcc542FHfmVWxpH5dhOuoY2v8+IGw3WaY4t9Bb2BpKNiFxHezr6GnA2Zjz88Gj+xuTsZ8N9dQ1tXuFoAwTONbPyQ1ZJFk8MQKRrswgfIHmOAftB/xRge/4CogDUcK+MsBtSAArr33DVjw9AAGGXmvEjIJ4HbBzgH0ksNseLQTcXhnnJXWwJPmNA+VR4IwegcsOHhqJe9P6jJ5fDYdQ8Z/2w1oZ7ATXRhujsfJDdEezxNzH21WrewTk061QAKgcfYImVP8IPA8sh5wAj9wdL7iNmdpEHepznRTR7ysDk2sGpLwWg0I1ssPoKQA3W0NDbST4KO30N5lo+ZeCHYDgA2phvb/mGO1T8IsySn/CWkjxE2BOGyYuemyEA9QwNXw/y48njBIy+5M1+Y8Si0L1T/YwEnCPieNwclhKuFeRLMPvpWL5/Q0YryLzM9AA0GYKs1cDlZtZO4JcgX/cdC77hdu+9C8ae5K0ywp6mL/5w+mJr4RYYmeOpYNUEFICqRquJE4HkI+ER3RcnNfizsfzAhp6h4X9LLgh2wPu92V4Az0zX8vDbGvUtsGSfPWs3fQzO3UDau+HYbbAtjEt/YuQ6Ha0691DRy7EmBOhLr5jLlc90EFwBb+Nm/DO8f6yRn2lVDkBwV53QhCscucADzyZ3cx97bvjfey699nrArk6Oi81/c2f+utdqonFaREMKKAA1ZFtra1MXPvRQ28TueT0Ta1a8mqys+/4tF7mYt8D8aAvafziS/1hFn9xeW7s/+Wp61xdWkXZxnONmeL838rjczC4HzdPiHJDrAJjtIz7qAa4O15g0MWK8y1wU05Bj7J+LHbbDuQVRyVaa8Y+jgwMb63BrqZbcN/TknCKKnwLjXl8q/Xj88zc8n0zYuXbLeZ0d+8deWL1az9dLJazBpxNQADqdkP5cAhkK9Kzb9F6z6DLCf5BmyfOV5juPfTSUji7DbMFJl8Rj913KcMnNV2oG/kbkCNcOx/0Ejzjab5GLto9+ZvlLzQemHUugNgUUgGqzL1qVBHD20OOXxd5fbg7JM9YIZzE8xwn0n4zHgGGxVV/glP7Ouul9cgNPo48LkeP2N/Ornqv+qlRBAhI4UwEFoDMV0/ESyFjgwv96qG33OfMusxI+BOMyAlcZfImw4946VADKpjEnBiAD5xAWGW2bgU/7nNvW8fr+5174st7CyaYjqiKB2QkoAM3OTaMkEESg83s/Xxi1Hvyq0c4n2VX+dB0m3x5TAMqmJdMCUA7gHDO3g+Cr8ZGDfz9xx+qpe9ZksxhVkYAEZi2gADRrOg2UQBiBnvWFu8uVzeaS/PDUKhSAsunH9DNAZvYLkEkIxdjgwGRf9CUBCdSFgAJQXbRJi5TAMYGjAWjypnJHrwdSAMrmVfJO5gpA2firigQqJaAAVClJzSOBjAR61w//5b5K5YKfmCpL8JcZLaGpyxhs6TSAB6d+PTrY/82mhtHmJVBnAgpAddYwLVcC0wWmnw2STPYCOuuTvbkqSqBSAgpAlZLUPBIIIKAAFAB9WkkFoLD+qi6BNAIKQGn0NFYCgQUUgMI2QAEorL+qSyCNgAJQGj2NlUBgAQWgsA1QAArrr+oSSCOgAJRGT2MlEFhAAShsAxSAwvqrugTSCCgApdHTWAkEFlAACtsABaCw/qougTQCCkBp9DRWAoEFFIDCNkABKKy/qksgjYACUBo9jZVAYAEFoLANUAAK66/qEkgjoACURk9jJRBYQAEobAMUgML6q7oE0ggoAKXR01gJBBZQAArbAAWgsP6qLoE0AgpAafQ0VgKBBRSAwjZAASisv6pLII2AAlAaPY2VQGABBaCwDVAACuuv6hJII6AAlEZPYyUQWEABKGwDFIDC+qu6BNIIKACl0dNYCQQWUAAK2wAFoLD+qi6BNAIKQGn0NFYCgQUUgMI2QAEorL+qSyCNgAJQGj2NlUBgAQWgsA1QAArrr+oSSCOgAJRGT2MlEFhAAShsAxSAwvqrugTSCCgApdHTWAkEFlAACtsABaCw/qougTQCCkBp9DRWAoEFFIDCNkABKKy/qksgjYACUBo9jZVAYAEFoLANUAAK66/qEkgjoACURk9jJRBYQAEobAMUgML6q7oE0ggoAKXR01gJBBZQAArbAAWgsP6qLoE0AgpAafQ0VgKBBRSAwjZAASisv6pLII2AAlAaPY2VQGABBaCwDVAACuuv6hJII6AAlEZPYyUQWEABKGwDFIDC+qu6BNIIKACl0dNYCQQWUAAK2wAFoLD+qi6BNAIKQGn0NFYCgQUUgMI2QAEorL+qSyCNgAJQGj2NlUBgAQWgsA1QAArrr+oSSCOgAJRGT2MlEFhAAShsAxSAwvqrugTSCCgApdHTWAkEFlAACtsABaCw/qougTQCCkBp9DRWAgEEFt9fuGSqrCP+durX5rEjwHKariThuqY27Yn/nvr1zttX/K7pMLRhCdSxgAJQHTdPS29OgelnfQj0Hw1AwHBzimS763cy19mgbPugahJIK6AAlFZQ4yWQsYACUMbgJ5RTAArrr+oSqJSAAlClJDWPBDISmApABJK3Yj4M4EBS2nQGKJMOHAtANhfgLwyTbz3qDFAm/CoigYoJKABVjFITSSAbgWkBaAnAKwDbqwCUjX1SZdoZoPkAnjXgZQWg7PxVSQKVElAAqpSk5pFARgLTA5CZXUzyiAJQRvjTApDRWmh8XgEoO3tVkkAlBRSAKqmpuSSQgUD30JZBwLoJ3mrgYgPeILDfyO0ZlG/6EjRcbrB59Dib5ncZ+SM4NzaeH1jf9DgCkEAdCSgA1VGztFQJTAn0DhX+zhNXgmg3hw4QT0knQwGzj3gfv2XmDjtzvxrNr/hahtVVSgISqICAAlAFEDWFBLIW6Fm35U6Yv6Bc17leeD+a9RqauR49u8zZ5H2XyJfGbl95TzN7aO8SqEcBBaB67JrW3PQCi4Y2dLSyZXUCUfSHf+Jc65cjcy00LDoZDj1eMfi46eFmAuDoEGPJyQ41F0148oDFu79mbuFA2b908KGJO1bvmcnUOkYCEqgdAQWg2umFViKBWQn0ri+sIux6WvkTYV0gyx+LP/7LPaEANENeR0dv175N0GyeJ98Asd3gC2O3X/fYDGfUYRKQQA0KKADVYFO0JAnMVGDJtwvtB+bin4zIeeOVcO4CI5KzESWSxWPzKADN1BQnBCAzawE/zm63AAAGrklEQVQYGdDhyZecc7+mZzH31r7/fP2uT5wkbM64kg6UgAQCCigABcRXaQlUQqD3vsIt9FgG5+aD/r2EJcHnbAMXghaTNIvwJL3bpbNApxY3IPLEWXC4xpKrewiHJFA6vO5gbTR7Ed7vM9i20cH+ByvRP80hAQmEEVAACuOuqhKoqEDX2sKyKHKHvfEW82xLJifYCtjCyTMXuV85i99rpPfJFS7eRxZFB+B5sKILqbfJXDQH4Dx68+ZiB9J55553HleS3ANwj8Em77NkrgjvH4iJ9h1rBrbW21a1XglI4HgBBSC9IiTQQALd9w3/81QAmr6tMev5CvKXH+n8XqGvJYc+79DnPN5HWCfpD5mzI5PnO3IRGLOBSI5tJbm42UceLnYGl/Oecww2QePvnMdIsYSRiTsGRlAo5HrG8K8nGiQBaDS/4j8a0kabkkATCigANWHTteXGFegeKlxzst2No+cXSQA68c+ST5O1uajPx+gzi/po6DNwwju31xXjQ8xFRZTidkbWafSLQHM1recczXMPne30cfGIM+Q8W9ujKJ5Pj7NoeNXIERdh5LCPR3blr9/9tv0UCrnucXz0pI75gZ/U9P61OAlIYMYCCkAzptKBEmgCAdK9697N58U566NZnzEJROY9MWIOI/5gaWdrSzRxyI7McTZ3jkNxDpybS7j3kX6nObQbbA7pWwwuSi4eJhg5uIj0ucnfu8iV/4tcImpAycPiyeuTLDYi9g4lg03+Hog9fQlwBx140Mx5Ehd750d8kc+05XIH4pw7VDp0pDPK2aJyiIv9eXDJO1pWXneObuT1564Zwd3mm6CL2qIEJDADAQWgGSDpEAk0s8DCoUc620u5Pkauzwx9yQXWTAJRcibFcYRouZr05xEYh+G74/mBfdX06hna8iV6/x4zLoRz2+ntkBn74P2bNIxY7EcO5Uoje/I3TVRzHZpbAhKobwEFoPrun1YvgewFvr61pXfR/j5v7HMxP05nK81zgobfw+ynY/n+DdVaVOcPCn25Ev46ubgb4PmgbTdn3xndNW8Edy2b9rH/aq1A80pAAo0ioADUKJ3UPiQQQKDrWz9Z4OYX/wHGuaAdMHPfHc2v+FM1l9I7tOWTpF+a1Ch5962JNSterWY9zS0BCTSmgAJQY/ZVu5JAZgI9D2zsxaHoahqeHc8PvJBF4e7vb7kILf6Nar/dlsVeVEMCEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCOgABTGXVUlIAEJSEACEggooAAUEF+lJSABCUhAAhIII6AAFMZdVSUgAQlIQAISCCigABQQX6UlIAEJSEACEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCOgABTGXVUlIAEJSEACEggooAAUEF+lJSABCUhAAhIII6AAFMZdVSUgAQlIQAISCCigABQQX6UlIAEJSEACEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCOgABTGXVUlIAEJSEACEggooAAUEF+lJSABCUhAAhIII6AAFMZdVSUgAQlIQAISCCigABQQX6UlIAEJSEACEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCOgABTGXVUlIAEJSEACEggooAAUEF+lJSABCUhAAhIII6AAFMZdVSUgAQlIQAISCCigABQQX6UlIAEJSEACEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCOgABTGXVUlIAEJSEACEggooAAUEF+lJSABCUhAAhIII6AAFMZdVSUgAQlIQAISCCigABQQX6UlIAEJSEACEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCOgABTGXVUlIAEJSEACEggooAAUEF+lJSABCUhAAhIII6AAFMZdVSUgAQlIQAISCCigABQQX6UlIAEJSEACEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCOgABTGXVUlIAEJSEACEggooAAUEF+lJSABCUhAAhIII6AAFMZdVSUgAQlIQAISCCigABQQX6UlIAEJSEACEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCOgABTGXVUlIAEJSEACEggooAAUEF+lJSABCUhAAhIII6AAFMZdVSUgAQlIQAISCCigABQQX6UlIAEJSEACEggjoAAUxl1VJSABCUhAAhIIKKAAFBBfpSUgAQlIQAISCCPw/9OajMFU98daAAAAAElFTkSuQmCC"
></img>
<span id="mw-collapse-button">&lang;</span>
<p id="mw-username-p"><input id="mw-username" type="text" value="{{settings.username}}" placeholder="{{i18n.username}}"/></p>
<div id="mw-script-content"></div>
<hr id="mw-divider" />
<div id="mw-script-content-other"></div>
</div>
<div id="mw-footer">
Â© by <a href="https://steemit.com/@mwfiae">MWFIAE</a>
</div>
</div>
`;

// This is the template for the users that will be rendered inside the main template (TEMPLATE_WITHOUT_USER)
const TEMPLATE_WITH_USER = `
<div id="{{temp.target}}">
<p>
<span><a href="https://steemit.com/@{{user.name}}">{{user.name}}</a> ({{user.displayRep}})</span>
</p>
<span>{{i18n.vp}}</span>
<div id="mw-votepower-{{temp.target}}" class="mw-tooltip" style="width:100%;background-color: lightgrey;">
<style>
#mw-votepower-bar-{{temp.target}} {
width: {{user.trueVotePower}}%;
height: 23px;
background-color: {{temp.vote_color}};
text-align: center; /* To center it horizontally (if you want) */
line-height: 30px; /* To center it vertically */
}
#mw-votepower-bar-text-{{temp.target}}{
color: white;
font-size: 0.8em;
text-align: center; /* To center it horizontally (if you want) */
float: left;
width: 100%;
}
</style>
<span id="mw-votepower-bar-text-{{temp.target}}">{{user.trueVotePower}}%</span>
<div id="mw-votepower-bar-{{temp.target}}"></div>
<div class="mw-tooltiptext">{{i18n.full}}:<br />{{user.voteSpan}}<br />{{user.voteTime}}</div>
</div>
<span>{{i18n.bandwidth}} <span style="font-size: 0.8em">{{temp.bw_p}}%</span></span>
<div id="mw-bandwidth-{{temp.target}}" style="width:100%;background-color: lightgrey;">
<style>
#mw-bandwidth-bar-{{temp.target}} {
width: {{temp.bw_pno0}}%;
height: 23px;
background-color: {{temp.bw_color}};
line-height: 30px; /* To center it vertically */
}
#mw-bandwidth-bar-text-{{temp.target}}{
color: white;
font-size: 0.8em;
text-align: center; /* To center it horizontally (if you want) */
float: left;
width: 100%;
}
</style>
<span id="mw-bandwidth-bar-text-{{temp.target}}" class="mw-nowrap" nowrap>{{temp.bw_c}} \/ {{temp.bw_m}}</span>
<div id="mw-bandwidth-bar-{{temp.target}}"></div>
</div>
<div class="mw-tooltip">
{{i18n.sp}}: <a href="https://steemit.com/@{{user.name}}/transfers">{{user.sp}}</a>
<div class="mw-tooltiptext">Own: {{user.ownSp}}<br>Received: {{user.recSp}}<br>Delegated: {{user.delSp}}<br></div>
</div>
</p>
<ul class="mw-ul">
{{temp.links}}
</ul>
</div>
`;

// This is the template for the settings menu
const TEMPLATE_SETTINGS_MENU = `
<div id="mw-settings-window" title="{{i18n.settings_title}}">
<div id="tabs">
<ul>
<li><a href="#tabs-1">{{i18n.settings_tab1}}</a></li>
<li><a href="#tabs-2">{{i18n.settings_tab2}}</a></li>
</ul>
<div id="tabs-1">
<table>
<tr>
<td>{{i18n.settings_barcolor_low}}</td>
<td><input id="mw-barColorLow" style="min-width:50px" class="mw-inline" type="color" value="{{settings.barColorLow}}"/></td>

<td>{{i18n.settings_barcolor_high}}</td>
<td><input id="mw-barColorHigh" style="min-width:50px" class="mw-inline" type="color" value="{{settings.barColorHigh}}"/></td>
</tr>
<tr>
<td colspan=4 style="color:red">{{i18n.settings_warn_refresh}}</td>
</tr>
<tr>
<td>{{i18n.settings_sidebar_side}}</td>
<td>
<select id="mw-sidebarSide" style="min-width:50px" class="mw-inline" value="{{settings.barColorLow}}">
<option value="left">{{i18n.settings_sidebar_side_left}}</option>
<option value="right">{{i18n.settings_sidebar_side_right}}</option>
</select>
</td>
<td>{{i18n.settings_language}}</td>
<td>
<select id="mw-language" style="min-width:50px" class="mw-inline" value="{{settings.language}}">
<option value="en">{{i18n.settings_language_en}}</option>
</select>
</td>
</tr>
</table>
</div>
<div id="tabs-2" style="overflow-y: auto">
<input class="mw-button" type="button" id="mw-restore-links" value="{{i18n.settings_restore_links}}"/>
<table id="mw-link-table">
<tr><th>{{i18n.settings_links_icon}}</th><th>{{i18n.settings_links_url}}</th><th>{{i18n.settings_links_text}}</th></tr>
<tr>
<td><input id="mw-new-link-icon" type="text" value="" /></td>
<td><input id="mw-new-link-url" type="text" value="" /></td>
<td><input id="mw-new-link-text" type="text" value="" /></td>
<td><input class="mw-button mw-button-add-link" style="background-color:lightgreen" type="button" value="+" /></td>
</tr>
{{links}}
</table>
</div>
</div>
</div>
`;

// This is the template how a single link should be rendered in the main view
const TEMPLATE_LINK = `<li><a href="{{link.url}}" target="_blank"><img class="mw-favicon" src="{{link.icon}}" />{{link.text}}</a></li>`;

// This is the template how a single link should be rendered in the settings view (editable)
const TEMPLATE_LINK_SETTINGS = `<tr><td><img class="mw-favicon" src="{{link.icon}}" /></td><td>{{link.url}}</td><td>{{link.text}}</td><td><input class="mw-button mw-button-delete-link" style="background-color:pink" type="button" value="x" /></td></tr>`;

// various default links that are included for the convencience of the users
const DEFAULT_LINKS=[
    {url: "https://steemd.com/@{{user.name}}", icon: "https://steemd.com/favicon-steem9.png", text: "Steemd"},
    {url: "https://steemworld.org/@{{user.name}}", icon: "https://steemworld.org/favicon.png", text: "Steemworld"},
    {url: "https://steemnow.com/@{{user.name}}", icon: "https://steemnow.com/favicon.ico", text: "Steemnow"},
    {url: "https://zappl.com/@{{user.name}}", icon: "https://zappl.com/1/images/favicon.png", text: "Zappl"},
    {url: "https://d.tube/#!/c/{{user.name}}", icon: "https://d.tube/DTube_files/images/dtubefavicon.png", text: "D.Tube"},
    {url: "https://dmania.lol/profile/{{user.name}}", icon: "https://dmania.lol/favicon.ico", text: "D.Mania"},
    {url: "https://alpha.steepshot.io/@{{user.name}}", icon: "https://alpha.steepshot.io/static/images/faviconNew.ico", text: "Steepshot"},
];

// use the steemit api node
steem.api.setOptions({
    url: 'https://api.steemit.com'
});

console.log("Starting....");

//Initialize the main object;
let MWSidebar ={
    otherUsername: null,             // the name of the "second" user
    settingsMenu: null,              // a reference to the settings menu
    globalProps:{                    // the globalProps are filled by an api call
        totalVestingFund: 0,
        totalVestingShares: 0,
        maxVirtualBandwidth: 0,
    },
    settings: {                      // All the settings that are currently saved for the user and can be edited via the settings menu
        username: null,              // The username entered
        dateTimeFormat: 'DD.MM. HH:mm:ss',
        collapsed: false,            // If the sidebar should be collapsed/minimized
        barColorLow: "#FF0000",      // The color of the various bars if they get low
        barColorHigh: "#00FF00",     // The color of the various bars if they get high
        links: DEFAULT_LINKS,        // The links that will be rendered
        side: "left",                // The side of the sidebar
        lastSaved: 0,                // The moment the settings were saved, is used by other tabs to auto update
    },
    /**
     * Some helper variables/functions
     */
    helper:{ //Some helper variables/functions
        // The regex to find a mustache style variable (used by my rendering functions)
        regexVariable: new RegExp("{{([^}]*)}}", "gim"),

        /**
         * Linear interpolates between colors, used by the progress bars.
         * @param {string} startColor - The color to lerp from.
         * @param {string} endColor - The color to lerp to.
         * @param {number} amount - The amount of lerp inbetween (0 - 1).
         * @return {string} A color that lies between @startColor and @endColor.
         */
        lerpColor: function(startColor, endColor, amount) {

            var ah = parseInt(startColor.replace(/#/g, ''), 16),
                ar = ah >> 16, ag = ah >> 8 & 0xff, ab = ah & 0xff,
                bh = parseInt(endColor.replace(/#/g, ''), 16),
                br = bh >> 16, bg = bh >> 8 & 0xff, bb = bh & 0xff,
                rr = ar + amount * (br - ar),
                rg = ag + amount * (bg - ag),
                rb = ab + amount * (bb - ab);

            return '#' + ((1 << 24) + (rr << 16) + (rg << 8) + rb | 0).toString(16).slice(1);
        },
        /**
         * Make the amount of bytes readable by humans.
         * @param {number} bytes - The amount of bytes.
         * @return {string} A string representing a human readable amount of bytes
         */
        prettyPrintBytes: function(bytes){

            if(Math.abs(bytes)>1000*1000*1000*1000)
                return (bytes/(1000*1000*1000*1000)).toFixed(2)+" TB";
            if(Math.abs(bytes)>1000*1000*1000)
                return (bytes/(1000*1000*1000)).toFixed(2)+" GB";
            if(Math.abs(bytes)>1000*1000)
                return (bytes/(1000*1000)).toFixed(2)+" MB";
            if(Math.abs(bytes)>1000)
                return (bytes/1000).toFixed(2)+" KB";
            return bytes+" B"
        },
        /**
         * Make a human readable timespan out of seconds.
         * @param {number} seconds - The amount of seconds.
         * @return {string} A string representing a human readable timespan.
         */
        formatSeconds: function(seconds){
            let timeSpan = "";
            if(seconds>24*60*60){
                let days=parseInt(seconds/(24*60*60));
                seconds -= days*24*60*60;
                timeSpan = timeSpan + days+"d ";
            }
            if(seconds>60*60){
                let hours=parseInt(seconds/(60*60));
                seconds -= hours*60*60;
                timeSpan = timeSpan + hours+"h ";
            }
            if(seconds>60){
                let minutes=parseInt(seconds/60);
                seconds -= minutes*60;
                timeSpan = timeSpan + minutes+"m ";
            }
            return timeSpan;
        },
        /**
         * Appends custom css globally.
         * @param {string} css - The css to append.
         * @param {string} id - The id of the generated style block
         */
        addGlobalStyle: function(css, id) {
            $("head:first").append($('<style' + (id !== undefined ? ' id="' + id + '"' : '') + ' type="text/css">' + css + '</style>'));
        },

        /**
         * Replaces the variables in a template with a maximum depth of 5.
         * @param {string} template - The template which should be processed.
         * @param {object} values - An object holding all the values.
         * @param {number} depth - The current depth we are at.
         * @return {string} The processed template.
         */
        fillTemplate: function(template, values, depth){

            if(depth==undefined)
                depth = 1;
            if(depth > 5)
                return template;
            let result = template;
            let regex = new RegExp(MWSidebar.helper.regexVariable);
            let matches=null;
            while(matches = regex.exec(template)){
                let match = matches[1];
                try{
                    let object = values;
                    match.split(".").forEach(function(single){
                        object = object[single];
                    });
                    if((typeof object)=="string" && object.match(new RegExp(MWSidebar.helper.regexVariable))){
                        object = MWSidebar.helper.fillTemplate(object, values, depth+1);
                    }
                    result = result.replace(matches[0], object);
                }
                catch(e){ console.log(e); }
            };
            return result;
        },
        /**
         * Converts a hex string into an ascii string.
         * @param {string} hexx - The hex string to process.
         * @return {string} The resulting ascii string.
         */
        hex2ascii: function(hexx){
            var hex = hexx.toString();//force conversion
            var str = '';
            for (var i = 0; i < hex.length; i += 2)
                str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));
            return str;
        },
    },
    /**
     * Functions that are called by the ui
     */
    ui: {
        /**
         * Toggle the collapse state of the Sidebar, saves the settings and rerenders the sidebar (so the state change takes effect)
         */
        toggleCollapse: function(){
            MWSidebar.settings.collapsed = ! MWSidebar.settings.collapsed;
            MWSidebar.saveSettings();
            MWSidebar.refreshCollapse();
        },
        /**
         * Opens the settings menu and wires the events
         */
        openSettings: function (){
            console.log("opening Settings...");
            MWSidebar.settingsMenu.dialog("open");
            $( "#tabs" ).tabs().addClass( "ui-tabs-vertical ui-helper-clearfix" );
            $( "#tabs li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );

            jQuery('#mw-barColorHigh').change(MWSidebar.ui.changeBarColorHigh);
            jQuery('#mw-barColorLow').change(MWSidebar.ui.changeBarColorLow);

            $("#mw-sidebarSide").val(MWSidebar.settings.side) //initialize with the current value.
            jQuery('#mw-sidebarSide').change(MWSidebar.ui.changeSidebarSide);

            $("#mw-language").val(MWSidebar.settings.language) //initialize with the current value.
            jQuery('#mw-language').change(MWSidebar.ui.changeLanguage);


            jQuery("#mw-restore-links").click(MWSidebar.ui.restoreLinks);
            jQuery(".mw-button-delete-link").click(MWSidebar.ui.deleteLink);
            jQuery(".mw-button-add-link").click(MWSidebar.ui.addLink);

            /*$('.ui-dialog').css({
                'width': $(window).width(),
                'height': $(window).height(),
                'left': '0px',
                'top':'0px'
            });*/
        },
        /**
         * Changes the side where the sidebar is rendered
         */
        changeSidebarSide: function(){
            MWSidebar.settings.side = $("#mw-sidebarSide").val();
        },
        /**
         * Change the users language.
         */
        changeLanguage: function(){
            MWSidebar.settings.language = $("#mw-language").val();
            MWSidebar.update();
            MWSidebar.updateOther();
        },
        /**
         * Change the "low" color of the progress bars.
         */
        changeBarColorLow: function(){
            MWSidebar.settings.barColorLow= $("#mw-barColorLow").val();
            MWSidebar.update();
            MWSidebar.updateOther();
        },
        /**
         * Change the "high" color of the progress bars.
         */
        changeBarColorHigh: function(){
            MWSidebar.settings.barColorHigh= $("#mw-barColorHigh").val();
            MWSidebar.update();
            MWSidebar.updateOther();
        },
        /**
         * Remove all links from the dom link table
         */
        removeAllLinks: function(){
            jQuery("#mw-link-table tr:has(.mw-button-delete-link)").remove();
        },
        /**
         * (Re-)Adds all the links to the dom link table
         */
        addAllLinks: function(){
            jQuery("#mw-link-table").append(MWSidebar.settings.links.reduce((result,link)=>{
                return result + MWSidebar.helper.fillTemplate(TEMPLATE_LINK_SETTINGS, {link: link, i18n: I18N[MWSidebar.settings.language]}, 5);
            },""));
            jQuery(".mw-button-delete-link").click(MWSidebar.ui.deleteLink);

            MWSidebar.doUpdate();
            MWSidebar.doUpdateOther();
        },
        /**
         * Add a link to the saved links and rerenders everything
         */
        addLink: function(){
            let icon = jQuery("#mw-new-link-icon").val();
            let url = jQuery("#mw-new-link-url").val();
            let text = jQuery("#mw-new-link-text").val();
            if(url==""){
                alert("You have to enter an url!");
                return;
            }
            if(icon==""&&text==""){
                alert("You have to enter an icon or text!");
                return;
            }
            jQuery("#mw-new-link-icon").val("");
            jQuery("#mw-new-link-url").val("");
            jQuery("#mw-new-link-text").val("");
            let link = {icon: icon, url: url, text: text};
            MWSidebar.settings.links.push(link);
            MWSidebar.saveSettings();
            MWSidebar.ui.removeAllLinks()
            MWSidebar.ui.addAllLinks();
        },
        /**
         * Permanently deletes a link from the settings and dom
         */
        deleteLink: function(e){
            var i= jQuery(".mw-button-delete-link").index(e.target);
            MWSidebar.settings.links.splice(i, 1);
            MWSidebar.saveSettings();
            MWSidebar.ui.removeAllLinks()
            MWSidebar.ui.addAllLinks();
        },
        /**
         * (Re-)Adds all the links to the dom link table
         */
        restoreLinks: function(){
            MWSidebar.settings.links = DEFAULT_LINKS.slice(0);
            MWSidebar.saveSettings();
            MWSidebar.ui.removeAllLinks()
            MWSidebar.ui.addAllLinks();
        }
    },

    /**
     * Calculates the bandwidth for a user
     * @param {object} data - The user data.
     * @return {array} An array containing the new bandwidth, the allocated bandwidth and the remaining bandwidth (in percent).
     */
    calcBandwidth: function(data){
        const STEEMIT_BANDWIDTH_AVERAGE_WINDOW_SECONDS = 60 * 60 * 24 * 7;
        let vestingShares = parseFloat(data.vesting_shares)
        let receivedVestingShares = parseFloat(data.received_vesting_shares)

        let average_bandwidth = parseInt(data.average_bandwidth, 10)

        let delta_time = (new Date - new Date(data.last_bandwidth_update + "Z")) / 1000

        let bandwidthAllocated = (MWSidebar.globalProps.maxVirtualBandwidth  * (vestingShares + receivedVestingShares) / MWSidebar.globalProps.totalVestingShares)
        bandwidthAllocated = Math.round(bandwidthAllocated / 1000000);

        let new_bandwidth = 0
        if (delta_time < STEEMIT_BANDWIDTH_AVERAGE_WINDOW_SECONDS) {
            new_bandwidth = (((STEEMIT_BANDWIDTH_AVERAGE_WINDOW_SECONDS - delta_time)*average_bandwidth)/STEEMIT_BANDWIDTH_AVERAGE_WINDOW_SECONDS)
        }
        new_bandwidth = Math.round(new_bandwidth / 1000000)
        let remaining = 100 - (100 * new_bandwidth / bandwidthAllocated);

        return [new_bandwidth, bandwidthAllocated, remaining];
    },

    /**
     * Processes and formats the raw user data from the api.
     * @param {object} newData - the raw user data from the api.
     * @return {object} The processed and formatted data.
     */
    updateUser: function(newData) {
        if (newData == undefined) {
            user = null;
            return;
        }
        newData.displayRep = steem.formatter.reputation(newData.reputation);

        let base_voting_power = newData.voting_power;
        let last_time = moment.utc(newData.last_vote_time).valueOf();
        let now = moment.utc().valueOf();
        let delta = (now-last_time) /1000;
        let updated_voting_power = base_voting_power +(10000*delta/432000);
        if( updated_voting_power > 10000 ) {
            updated_voting_power = 10000;
        }
        newData.trueVotePower = (updated_voting_power/100).toFixed(2);
        let timeForVotePower = (10000-updated_voting_power)/2000*24*60*60;
        let voteTimeStamp = moment.utc(moment.utc().valueOf() + timeForVotePower*1000);
        newData.voteTime = voteTimeStamp.local().format(MWSidebar.settings.dateTimeFormat);

        newData.voteSpan = MWSidebar.helper.formatSeconds(timeForVotePower);

        newData.sp = 0;
        let effective_vesting_shares =0;
        newData.vesting_shares = parseFloat(newData.vesting_shares.replace(" VESTS",""));
        newData.delegated_vesting_shares = parseFloat(newData.delegated_vesting_shares.replace(" VESTS",""));
        newData.received_vesting_shares = parseFloat(newData.received_vesting_shares.replace(" VESTS",""));
        effective_vesting_shares= newData.vesting_shares - newData.delegated_vesting_shares + newData.received_vesting_shares;
        newData.sp= MWSidebar.globalProps.totalVestingFund * (effective_vesting_shares / MWSidebar.globalProps.totalVestingShares)
        newData.ownSp= (MWSidebar.globalProps.totalVestingFund * ( newData.vesting_shares / MWSidebar.globalProps.totalVestingShares)).toFixed(3)
        newData.recSp= (MWSidebar.globalProps.totalVestingFund * (newData.received_vesting_shares / MWSidebar.globalProps.totalVestingShares)).toFixed(3)
        newData.delSp= (MWSidebar.globalProps.totalVestingFund * (newData.delegated_vesting_shares / MWSidebar.globalProps.totalVestingShares)).toFixed(3)

        newData.sp = newData.sp.toFixed(3);

        let bandwidthData= MWSidebar.calcBandwidth(newData);
        newData.bw_a = bandwidthData[0];
        newData.bw_m = bandwidthData[1];
        newData.bw_p = bandwidthData[2];

        return newData;
    },

    /**
     * Update the dom from the new user data
     * @param {string} target - The id of the target dom element.
     * @param {object} user - The new user data.
     */
    updateDisplay :function(target, user) {
        if (user == undefined)
            return;
        let content = TEMPLATE_WITH_USER;
        let links = MWSidebar.settings.links.reduce((result,link)=>{
            return (result=={}?"":result) + MWSidebar.helper.fillTemplate(TEMPLATE_LINK, {link: link, user: user, i18n: I18N[MWSidebar.settings.language]});
        },"");
        temp = {
            target: target,
            links: links,
            bw_c: MWSidebar.helper.prettyPrintBytes(user.bw_m-user.bw_a),
            bw_m: MWSidebar.helper.prettyPrintBytes(user.bw_m),
            bw_p: user.bw_p.toFixed(2),
            vote_color: MWSidebar.helper.lerpColor(MWSidebar.settings.barColorHigh, MWSidebar.settings.barColorLow, (100-user.trueVotePower)/100),
            bw_color: MWSidebar.helper.lerpColor(MWSidebar.settings.barColorHigh, MWSidebar.settings.barColorLow, (100-user.bw_p)/100),
            bw_pno0: user.bw_p>0?user.bw_p.toFixed(2):"0"
        };
        content = MWSidebar.helper.fillTemplate(TEMPLATE_WITH_USER, {settings: MWSidebar.settings, user: user, temp:temp, i18n: I18N[MWSidebar.settings.language]});

        jQuery("#" + target).replaceWith(content);
        jQuery('#mw-script-container').niceScroll({cursorcolor:"lightblue"});
        MWSidebar.refreshCollapse();
    },

    /**
     * Refresh user data and updates the dom
     * @param {string} account - The (new) accountname.
     * @param {string} target - The id of the target dom element.
     */
    updateAccountInfo : function updateAccountInfo(account, target) {
        if (account == null || account == "") {
            jQuery("#" + target).replaceWith('<div id="{target}"></div>'.replace("{target}", target));
            return;
        }
        steem.api.getAccounts([account], function (err, result) {
            if ( ( err != null && err != "") || result.length == 0) {
                user = null;
                console.log(err);
                return;
            }
            var user = MWSidebar.updateUser(result[0]);
            MWSidebar.updateDisplay(target, user);
        });
    },

    /**
     * Refresh user data for the account in the "search" box
     */
    update: function() {
        MWSidebar.updateAccountInfo( MWSidebar.settings.username, "mw-script-content", false);
    },
    /**
     * Refresh user data for the account of the current page
     */
    updateOther:function() {

        var newOtherUser;
        splits = document.location.pathname.split('/');
        for (i = 0; i < splits.length; i++) {

            if (splits[i].startsWith('@')) {
                newOtherUser = splits[i].replace("@", "");
                break;
            }
            newOtherUser = "";
        }
        if (newOtherUser == MWSidebar.settings.username){
            newOtherUser = "";
        }
        if (newOtherUser !=  MWSidebar.otherUsername) {
            MWSidebar.otherUsername = newOtherUser;
            MWSidebar.updateAccountInfo( MWSidebar.otherUsername, "mw-script-content-other", true);
        }
    },
    /**
     * Updates the username from the ui.
     * @param {event} e - The change event.
     */
    updateUsername : function(e) {
        if (e.which == 13) {
            MWSidebar.settings.username = jQuery('#mw-username').val().toLowerCase();
            MWSidebar.update();
            MWSidebar.saveSettings();
            return false;
        };
    },
    /**
     * Refresh the dom to reflect the collapse state.
     */
    refreshCollapse: function(){
        if( MWSidebar.settings.collapsed){
            jQuery('#mw-script-content').hide();
            jQuery('#mw-script-content-other').hide();
            jQuery('#mw-username-p').hide();
            jQuery('#mw-divider').hide();
            jQuery('#mw-footer').hide();
            jQuery('#mw-collapse-button').css('margin-left','2px');
            jQuery('#mw-script-container').css('width','2px');
            jQuery('#mw-script-container').css('padding-left','9px');
            jQuery('#mw-script-container').css('height','auto');
            jQuery('#mw-script-container').css('background-color','transparent');

            if(MWSidebar.settings.side=="left"){
                jQuery('#mw-collapse-button').html("&rang;");
            }else{
                jQuery('#mw-collapse-button').html("&lang;");
            }
        }else{
            jQuery('#mw-script-content').show();
            jQuery('#mw-script-content-other').show();
            jQuery('#mw-username-p').show();
            jQuery('#mw-divider').show();
            jQuery('#mw-footer').show();
            jQuery('#mw-script-container').css('width','200px');
            jQuery('#mw-script-container').css('padding-left','2em');
            jQuery('#mw-script-container').css('height','100vh');
            jQuery('#mw-script-container').css('background-color','');
            jQuery('#mw-collapse-button').css('margin-left','110px');

            if(MWSidebar.settings.side=="left"){
                jQuery('#mw-collapse-button').html("&lang;");
            }else{
                jQuery('#mw-collapse-button').html("&rang;");
            }
        }
    },
    /**
     * Load all settings from the saved values.
     */
    loadSettings: function(){
        MWSidebar.settings.username = MWSidebar.getSetting("mw-username","");
        MWSidebar.settings.barColorHigh = MWSidebar.getSetting("mw-barColorHigh", "#00FF00");
        MWSidebar.settings.barColorLow = MWSidebar.getSetting("mw-barColorLow", "#FF0000");
        MWSidebar.settings.side = MWSidebar.getSetting("mw-side", "left");
        MWSidebar.settings.language = MWSidebar.getSetting("mw-language", "en");
        MWSidebar.settings.lastSaved = MWSidebar.getSetting("mw-lastSaved", 0);

        let collapsed = MWSidebar.getSetting("mw-collapsed", false);
        MWSidebar.settings.collapsed = collapsed==true || collapsed=="true";

        let json =  MWSidebar.getSetting("mw-links", null);
        if(json==null||json=="")
            MWSidebar.settings.links = DEFAULT_LINKS;
        else
            MWSidebar.settings.links = JSON.parse(json);

    },
    /**
     * Save all settings
     */
    saveSettings: function(){
        MWSidebar.settings.lastSaved = moment.utc().valueOf();
        MWSidebar.setSetting("mw-username", MWSidebar.settings.username);
        MWSidebar.setSetting("mw-collapsed", MWSidebar.settings.collapsed);
        MWSidebar.setSetting("mw-barColorHigh", MWSidebar.settings.barColorHigh);
        MWSidebar.setSetting("mw-barColorLow", MWSidebar.settings.barColorLow);
        MWSidebar.setSetting("mw-links", JSON.stringify(MWSidebar.settings.links));
        MWSidebar.setSetting("mw-side", MWSidebar.settings.side);
        MWSidebar.setSetting("mw-language", MWSidebar.settings.language);
        MWSidebar.setSetting("mw-lastSaved", MWSidebar.settings.lastSaved);
    },
    /**
     * Initial DOM-Setup
     */
    setup: function() {
        MWSidebar.loadSettings();

        jQuery('.App__content').eq(0).before(
            MWSidebar.helper.fillTemplate(TEMPLATE_WITHOUT_USER, {settings: MWSidebar.settings, i18n: I18N[MWSidebar.settings.language]})
        );
        MWSidebar.refreshCollapse();
        jQuery('#mw-username').keypress(MWSidebar.updateUsername);
        jQuery('#mw-collapse-button').click(MWSidebar.ui.toggleCollapse);
        jQuery('#mw-settings').click(MWSidebar.ui.openSettings);

        let index = 0;
        let links = MWSidebar.settings.links.reduce((result,link)=>{
            return (result=={}?"":result) + MWSidebar.helper.fillTemplate(TEMPLATE_LINK_SETTINGS, {link: link, i18n: I18N[MWSidebar.settings.language]}, 5);
        },"");
        jQuery("body").append(MWSidebar.helper.fillTemplate(TEMPLATE_SETTINGS_MENU, {settings: MWSidebar.settings, links:links, i18n: I18N[MWSidebar.settings.language]}));

        MWSidebar.settingsMenu = jQuery("#mw-settings-window").dialog({
            autoOpen: false,
            resizable: false,
            height: 600,
            width: "80vw",
            modal: true,
            buttons: {
                "Save Changes": function(){
                    MWSidebar.saveSettings();
                    MWSidebar.settingsMenu.dialog("close");
                    MWSidebar.update();
                    MWSidebar.updateOther();
                }
            },
            close: function() {
                MWSidebar.loadSettings();
                MWSidebar.update();
                MWSidebar.updateOther();
            }
        });
        MWSidebar.helper.addGlobalStyle(GM_getResourceText("JQUI_CSS"));
    },
    /**
     * Save a setting permanently
     * @param {string} cname - The key to save under.
     * @param {string} cvalue - The value to save.
     */
    setSetting: function(cname, cvalue) {
        GM_setValue(cname, cvalue);
    },
    /**
     * Get a setting or returns the default value
     * @param {string} cname - The key of the saved value.
     * @param {string} defaultValue - The default value that is returned if nothing is found.
     */
    getSetting: function(cname, defaultValue) {
        var val=GM_getValue(cname);
        if(val!=null)
            return val;

        var name = cname + "=";
        var decodedCookie = decodeURIComponent(document.cookie);
        var ca = decodedCookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        if(defaultValue!=null)
            return defaultValue;
        return "";

    },
    /**
     * Async updates the global properties from the api
     */
    updateGlobalProperties: function(){
        steem.api.getDynamicGlobalProperties(function(err, result) {

            MWSidebar.globalProps.totalVestingFund=parseFloat(result.total_vesting_fund_steem.replace(" STEEM", ""));
            MWSidebar.globalProps.totalVestingShares = parseFloat(result.total_vesting_shares.replace(" VESTS", ""));
            MWSidebar.globalProps.maxVirtualBandwidth = parseInt(result.max_virtual_bandwidth, 10);
        });
    },
    /**
     * Update the current user
     */
    doUpdate: function(){
        MWSidebar.update();
        setTimeout(MWSidebar.doUpdate, 10000); //Alle 10 Sekunden das eigene Profil updaten
    },
    /**
     * Update the user from the current page
     */
    doUpdateOther: function(){
        MWSidebar.updateOther();
        setTimeout(MWSidebar.doUpdateOther, 100); //Jede 1/10 Sekunde Ã¼berprÃ¼fen ob man jetzt das Profil eines anderen Users offen hat :)
    },
    /**
     * Update the global properties and replans itself
     */
    doUpdateGlobalProperties: function(){
        MWSidebar.updateGlobalProperties();
        setTimeout(MWSidebar.doUpdateGlobalProperties, 60000); // Jede Minute die neuen Properties holen
    },
    /**
     * Look for setting changes in other tabs replans itself
     */
    doReloadSettings: function(){
        //Falls eine neuere Version der Settings existiert Settings neu laden
        let latest=MWSidebar.getSetting("mw-lastSaved",0)
        if(latest>MWSidebar.settings.lastSaved)
            MWSidebar.loadSettings();
        setTimeout(MWSidebar.doReloadSettings, 1000); // Jede Sekunde prÃ¼fen ob neue Einstellungen vorhanden sind
    }
}


/**
 * Entry-Point
 */
$(document).ready(function () {
    steem.api.getDynamicGlobalProperties(function(err, result) {

        MWSidebar.globalProps.totalVestingFund=parseFloat(result.total_vesting_fund_steem.replace(" STEEM", ""));
        MWSidebar.globalProps.totalVestingShares = parseFloat(result.total_vesting_shares.replace(" VESTS", ""));
        MWSidebar.globalProps.maxVirtualBandwidth = parseInt(result.max_virtual_bandwidth, 10);

        MWSidebar.setup();
        MWSidebar.doUpdate();
        MWSidebar.doUpdateOther();
        MWSidebar.doUpdateGlobalProperties();
        MWSidebar.doReloadSettings();
    });
});

//Attaching it to the window of the current site to make debugging alot easier :)
unsafeWindow.MWSidebar = MWSidebar;
